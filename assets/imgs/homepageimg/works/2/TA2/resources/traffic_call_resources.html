<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="CONTENT-TYPE" content="text/html; charset=windows-1252">

<title>traffic call resources</title><meta name="GENERATOR" content="OpenOffice.org 2.1 (Win32)">
<meta name="CREATED" content="20070731;12001513">
<meta name="CHANGED" content="20070731;12124284">
<style>
<!--
@page { size: 21cm 29.7cm; margin: 2cm }
P { margin-bottom: 0.21cm }
P.western { font-family: "Arial", sans-serif; font-size: 10pt }
H1 { margin-bottom: 0.21cm }
H1.western { font-family: "Arial", sans-serif; font-size: 16pt }
H1.cjk { font-family: "Arial Unicode MS"; font-size: 16pt }
H1.ctl { font-family: "Tahoma"; font-size: 16pt }
TD P { margin-bottom: 0cm }
TD P.western { font-family: "Arial", sans-serif; font-size: 9pt }
TD { font-family: "Arial", sans-serif; font-size: 9pt }
TH P { margin-bottom: 0cm }
TH P.western { font-family: "Arial", sans-serif; font-size: 10pt }
H2 { margin-bottom: 0.21cm }
H2.western { font-family: "Arial", sans-serif; font-size: 14pt; font-style: italic }
H2.cjk { font-size: 14pt; font-style: italic }
H2.ctl { font-size: 14pt; font-style: italic }
-->
</style></head>
<body style="direction: ltr;" lang="en-US">
<h1 class="western">Traffic Call Resources</h1>
<table border="1" bordercolor="#000000" cellpadding="4" cellspacing="0" width="100%">
<tbody>
<tr valign="top">
<th bgcolor="#b3b3b3" width=20%>
<p class="western">Setting</p>
</th>
<th bgcolor="#b3b3b3" width=20%>
<p class="western">Value</p>
</th>
<th bgcolor="#b3b3b3" width=20%>
<p class="western">Value</p>
</th>
<th bgcolor="#b3b3b3" width=20%>
<p class="western">Value</p>
</th>
<th bgcolor="#b3b3b3" width=20%>
<p class="western">Value</p>
</th></tr><tr bgcolor=#FFFFFF><td><b>Resource</b></td><td>../../../../TestCase/SS_ILCallMgmt/resources/basic_call_resource.tsv</td><td><br></td><td><br></td><td><br></td></tr>
</table>
<br>
<table border="1" bordercolor="#000000" cellpadding="4" cellspacing="0" width="100%">
<tbody>
<tr valign="top">
<th bgcolor="#b3b3b3" width=19%>
<p class="western">Variable</p>
</th>
<th bgcolor="#b3b3b3" width=27%>
<p class="western">Value</p>
</th>
<th bgcolor="#b3b3b3" width=19%>
<p class="western">Value</p>
</th>
<th bgcolor="#b3b3b3" width=18%>
<p class="western">Value</p>
</th>
<th bgcolor="#b3b3b3" width=17%>
<p class="western">Value</p>
</th></tr><tr bgcolor=#FFFFFF><td>${CN_RTP_PORT}</td><td>60000</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${NODEB_IP}</td><td>%{FPCIP_ETH1}</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>@{NODEB_PORT_LIST}</td><td>50000</td><td>50002</td><td>50004</td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>@{NODEB_PORT_HEX}</td><td>C350</td><td>C352</td><td>C354</td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${RNC_IUB_IP}</td><td>%{DSP0_IUB_IP}</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${SGSN_IP}</td><td>%{FPCIP_ETH1}</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${CN_IP}</td><td>%{FPCIP_ETH1}</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${DRNC_IP}</td><td>%{FPCIP_ETH1}</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${IUR_PORT}</td><td>2468</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${SGSN_TEID}</td><td>8</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${NODEB_PORT}</td><td>2560</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${NODEB_UL_PORT}</td><td>2558</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${NODEB_DL_PORT}</td><td>2559</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${GTP_PORT}</td><td>2152</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${USCP}</td><td>USCP-0</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${PRE_USERID}</td><td>0X000010000</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${CASE_PATH}</td><td>%{root_path}</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${STUB_PATH}</td><td>%{FPC_STUB_HOME}</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${STUB_LOG}</td><td>%{FPC_STUB_LOG}</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${TEST_DATA}</td><td>${CASE_PATH.strip('TestCase')}TestData</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${GTPU_SEND_1024}</td><td>${TEST_DATA}/SGSN/gtpu_1024</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${GTPU_SEND_FILE}</td><td>${TEST_DATA}/SGSN/gtpu</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${UDP_SEND_1024}</td><td>${TEST_DATA}/NODEB/udp_src_1024</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${UDP_FILE_1200}</td><td>${TEST_DATA}/NODEB/udp_src_1200</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${UDP_LOG}</td><td>${STUB_LOG}/qos_udprv.log</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${FPC_CAP_PATH}</td><td>${STUB_LOG}/fpc_eth1.cap</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${RECVSTUB_NAME}</td><td>udprv</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${SENDSTUB_NAME}</td><td>udpsd</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${INQUIRESTUB_NAME}</td><td>inquire</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${RECVSTUB}</td><td>${STUB_PATH}/${RECVSTUB_NAME}</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${SENDSTUB}</td><td>${STUB_PATH}/${SENDSTUB_NAME}</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${INQUIRESTUB}</td><td>${STUB_PATH}/${INQUIRESTUB_NAME}</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${NOT_CHECK}</td><td>-1</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${TIMEOUT_3}</td><td>3</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${LOG_NUM}</td><td>0</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${UNIT_IUETOR}</td><td>EITPUPTRM-0</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${FAMILY_IUETOR}</td><td>6eb</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${MSG_STOP_BUFFER}</td><td>2</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${AMR_DEST_PARA1}</td><td>,DEST=FFFFFFFF,SDEST=22</td><td><br></td><td><br></td><td><br></td></tr>
</table>
<br>
<table border="1" bordercolor="#000000" cellpadding="4" cellspacing="0" width="100%">
<tbody>
<tr valign="top">
<th bgcolor="#b3b3b3" width=16%>
<p class="western">Keyword</p>
</th>
<th bgcolor="#b3b3b3" width=15%>
<p class="western">Argument</p>
</th>
<th bgcolor="#b3b3b3" width=19%>
<p class="western">Argument</p>
</th>
<th bgcolor="#b3b3b3" width=14%>
<p class="western">Argument</p>
</th>
<th bgcolor="#b3b3b3" width=13%>
<p class="western">Argument</p>
</th>
<th bgcolor="#b3b3b3" width=11%>
<p class="western">Argument</p>
</th>
<th bgcolor="#b3b3b3" width=12%>
<p class="western">Argument</p>
</th></tr><tr bgcolor=#FFFFb9><td><b>Check Route Between NodeB And RNC</b></td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${ping_result}</td><td>Run</td><td>ping -c 2 ${RNC_IUB_IP} -I ${NODEB_IP}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Should Contain</td><td>${ping_result}</td><td>2 received</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Get USERID From Unit</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${unit}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${user_id}</td><td>Evaluate</td><td>'${unit}'.split('-')[1]</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${user_id}</td><td>Evaluate</td><td>str(${PRE_USERID}+0x${user_id})</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${user_id}</td><td>dec2hex</td><td>${user_id}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>[Return]</td><td>${user_id}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>RRC Send Msg To GTP</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${unit_name}</td><td><font color=dark red>${msg_type}</td><td><font color=dark red>${other_para}=\</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${unit_index}</td><td>Evaluate</td><td>${unit_name.split('-')[1].strip()}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>exec_rrc_cmd</td><td>-- -d EITPUPTRM-${unit_index} ${FAMILY_IUETOR} 0 0 -t ${msg_type} -s 8 -i ${other_para}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Create DRNC Call For Traffic</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${unit}=${USCP}</td><td><font color=dark red>${imsi}=54321</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${user_id}</td><td>Get USERID From Unit</td><td>${unit}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${udp_leginfo}</td><td>Create UDP Leg For DRNC Traffic</td><td>${unit}</td><td>${NODEB_IP}</td><td>@{NODEB_PORT_LIST}[1]</td><td>${imsi}</td></tr>
<tr><td><br></td><td>${iur_leginfo}</td><td>Create Iur Leg For DRNC Traffic</td><td>${unit}</td><td>${udp_leginfo.call_id}</td><td>${imsi}</td><td><br></td></tr>
<tr><td><br></td><td>${drnc_call_info}</td><td>Create List</td><td>${udp_leginfo.call_id}</td><td>${udp_leginfo.local_ip}</td><td>${udp_leginfo.local_port}</td><td><br></td></tr>
<tr><td><br></td><td>...</td><td>${iur_leginfo.local_ip}</td><td>${iur_leginfo.local_port}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>[return]</td><td>${drnc_call_info}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Create UDP Leg For DRNC Traffic</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${unit}</td><td><font color=dark red>${nodeb_ip}</td><td><font color=dark red>${nodeb_ul_port}</td><td><font color=dark red>${imsi}</td><td><font color=dark red>${subnet_id}=4</td></tr>
<tr><td><br></td><td>...</td><td>${dscp}=2e</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${udp_leginfo}</td><td>allocate_resource</td><td>${unit}</td><td>\</td><td>IN</td><td>\</td></tr>
<tr><td><br></td><td>...</td><td>,,,${subnet_id}</td><td>${DRNC_PARASET}</td><td>\</td><td>USERID=${user_id},DSCP=${dscp},QOS=0,FMPS=2C,FAPS=2C,FPER=14,BMPS=2C,BAPS=2C,LTDL=1,${DRNC_DSP},IMSI=${imsi}</td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${udp_leginfo.result}</td><td>SUCCESSFUL</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${leginfo}</td><td>modify_parameters</td><td>${unit}</td><td>${udp_leginfo.call_id}</td><td>IN</td><td>${nodeb_ip}</td></tr>
<tr><td><br></td><td>...</td><td>${nodeb_ul_port}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${leginfo.result}</td><td>SUCCESSFUL</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>[return]</td><td>${udp_leginfo}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Create Iur Leg For DRNC Traffic</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${unit}</td><td><font color=dark red>${call_id}</td><td><font color=dark red>${imsi}=12345</td><td><font color=dark red>${subnet_id}=3</td><td><font color=dark red>${dscp}=2e</td></tr>
<tr><td><br></td><td>${iur_leginfo}</td><td>allocate_resource</td><td>${unit}</td><td>${call_id}</td><td>OUT</td><td>${DRNC_IP}</td></tr>
<tr><td><br></td><td>...</td><td>${IUR_PORT},,,${subnet_id}</td><td>${DRNC_PARASET}</td><td>\</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>...</td><td>USERID=${user_id},DSCP=${dscp},QOS=0,FMPS=2C,FAPS=2C,FPER=14,BMPS=2C,BAPS=2C,LTDL=1,${DRNC_DSP},IMSI=${imsi}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${iur_leginfo.result}</td><td>SUCCESSFUL</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${leginfo}</td><td>modify_parameters</td><td>${USCP}</td><td>${call_id}</td><td>OUT</td><td>${DRNC_IP}</td></tr>
<tr><td><br></td><td>...</td><td>${IUR_PORT}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${leginfo.result}</td><td>SUCCESSFUL</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>[return]</td><td>${iur_leginfo}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Create AMR Call For Traffic</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${subnet_id1}=1</td><td><font color=dark red>${subnet_id2}=4</td><td><font color=dark red>${unit}=${USCP}</td><td><font color=dark red>${imsi}=54321</td><td><br></td></tr>
<tr><td><br></td><td>${user_id}</td><td>Get USERID From Unit</td><td>${unit}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${rtp_callinfo}</td><td>Create RTP Leg For AMR Traffic</td><td>${unit}</td><td>${SGSN_IP}</td><td>${CN_RTP_PORT}</td><td>${imsi}</td></tr>
<tr><td><br></td><td>...</td><td>${subnet_id1}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${udp_leginfo}</td><td>Create UDP Leg For AMR Traffic</td><td>${unit}</td><td>${rtp_callinfo.call_id}</td><td>${NODEB_IP}</td><td>@{NODEB_PORT_LIST}[0]</td></tr>
<tr><td><br></td><td>...</td><td>${subnet_id2}</td><td>${imsi}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${amr_call_info}</td><td>Create List</td><td>${rtp_callinfo.call_id}</td><td>${udp_leginfo.local_ip}</td><td>${udp_leginfo.local_port}</td><td>${rtp_callinfo.local_ip}</td></tr>
<tr><td><br></td><td>...</td><td>${rtp_callinfo.local_port}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>[return]</td><td>${amr_call_info}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Create RTP Leg For AMR Traffic</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${unit}</td><td><font color=dark red>${sgsnip}</td><td><font color=dark red>${cn_rtp_port}</td><td><font color=dark red>${imsi}=54321</td><td><font color=dark red>${subnet_id}=1</td></tr>
<tr><td><br></td><td>...</td><td>${dscp}=E</td><td>${traffic_class}=0</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${rtp_leginfo}</td><td>allocate_resource</td><td>${unit}</td><td>\</td><td>OUT</td><td>${sgsnip}</td></tr>
<tr><td><br></td><td>...</td><td>${cn_rtp_port},,,${subnet_id}</td><td>${AMR_IU_PARASET}</td><td>\</td><td>USERID=${user_id},DSCP=${dscp},QOS=${traffic_class},LTDL=1,${AMR_DSP}${AMR_ENCODING_PARA},IMSI=${imsi},NCAC=1${AMR_DEST_PARA1}</td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${rtp_leginfo.result}</td><td>SUCCESSFUL</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>[return]</td><td>${rtp_leginfo}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Create UDP Leg For AMR Traffic</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${unit}</td><td><font color=dark red>${call_id}</td><td><font color=dark red>${nodeb_ip}</td><td><font color=dark red>${nodeb_ul_port}</td><td><font color=dark red>${subnet_id}=2</td></tr>
<tr><td><br></td><td>...</td><td>${imsi}=54321</td><td>${dscp}=E</td><td>${traffic_class}=0</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${udp_leginfo}</td><td>allocate_resource</td><td>${unit}</td><td>${call_id}</td><td>IN</td><td>\</td></tr>
<tr><td><br></td><td>...</td><td>,,,${subnet_id}</td><td>${AMR_IUB_PARASET}</td><td>\</td><td>USERID=${user_id},QOS=${traffic_class},DSCP=${dscp},FMPS=2C,FAPS=2C,FPER=14,BMPS=2C,BAPS=2C,LTDL=1,${AMR_DSP},IMSI=${imsi},NCAC=1</td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${udp_leginfo.result}</td><td>SUCCESSFUL</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${leginfo}</td><td>modify_parameters</td><td>${unit}</td><td>${call_id}</td><td>IN</td><td>${nodeb_ip}</td></tr>
<tr><td><br></td><td>...</td><td>${nodeb_ul_port}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${leginfo.result}</td><td>SUCCESSFUL</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>[return]</td><td>${udp_leginfo}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Release Basic Call</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${call_id}</td><td><font color=dark red>${unit}=${USCP}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Release Leg</td><td>${unit}</td><td>${call_id}</td><td>IN</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Release Leg</td><td>${unit}</td><td>${call_id}</td><td>OUT</td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Create HSDPA Call For Traffic</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${traffic_class}=0</td><td><font color=dark red>${unit}=${USCP}</td><td><font color=dark red>${imsi}=54321</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${user_id}</td><td>Get USERID From Unit</td><td>${unit}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${srb_info}</td><td>Create SRB On DCCH</td><td>${unit}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${gtp_callinfo}</td><td>Create GTP Tunnel For Traffic</td><td>${unit}</td><td>${SGSN_IP}</td><td>${SGSN_TEID}</td><td>${traffic_class}</td></tr>
<tr><td><br></td><td>...</td><td>${imsi}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${gtp_leginfo}</td><td>Create GTP_LEG For Traffic</td><td>${unit}</td><td>${gtp_callinfo.call_id}</td><td>${SGSN_IP}</td><td>${imsi}</td></tr>
<tr><td><br></td><td>${udp_leginfo}</td><td>Create UDP_LEG For Traffic</td><td>${unit}</td><td>${gtp_callinfo.call_id}</td><td>${NODEB_IP}</td><td>${NODEB_UL_PORT}</td></tr>
<tr><td><br></td><td>...</td><td>${imsi}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${hsdpa_leginfo}</td><td>Create HSDPA_LEG For Traffic</td><td>${unit}</td><td>${gtp_callinfo.call_id}</td><td>${NODEB_IP}</td><td>${NODEB_DL_PORT}</td></tr>
<tr><td><br></td><td>...</td><td>${imsi}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${hsdpa_call_info}</td><td>Create list</td><td>${gtp_callinfo.call_id}</td><td>${gtp_callinfo.gtp_ip}</td><td>${udp_leginfo.local_ip}</td><td>${gtp_callinfo.local_teid}</td></tr>
<tr><td><br></td><td>...</td><td>${udp_leginfo.local_port}</td><td>${hsdpa_leginfo.local_port}</td><td>${srb_info.call_id}</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>[return]</td><td>${hsdpa_call_info}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Create SRB On DCCH</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${unit}=${USCP}</td><td><font color=dark red>${subnet_id}=4</td><td><font color=dark red>${nodeb_ip}=${NODEB_IP}</td><td><font color=dark red>${nodeb_port}=${NODEB_PORT}</td><td><br></td></tr>
<tr><td><br></td><td>${srb_local_info}</td><td>allocate_resource</td><td>${unit}</td><td>\</td><td>IN</td><td>${nodeb_ip}</td></tr>
<tr><td><br></td><td>...</td><td>${nodeb_port},,,${subnet_id}</td><td>${SRB_PARASET}</td><td>\</td><td>USERID=${user_id},ENC=12,BRA=T,NCAC=0,DSCP=E,PHB=FF,QOS=0,LTUL=FF,LTDL=37,${SRB_OVER_DCH_DSP}</td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${srb_local_info.result}</td><td>SUCCESSFUL</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>[return]</td><td>${srb_local_info}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Create GTP Tunnel For Traffic</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${unit}</td><td><font color=dark red>${sgsnip}</td><td><font color=dark red>${sgsn_teid}</td><td><font color=dark red>${traffic_class}=0</td><td><font color=dark red>${imsi}=54321</td></tr>
<tr><td><br></td><td>...</td><td>${subnet_id}=2</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${gtp_callinfo}</td><td>allocate_resource</td><td>${unit}</td><td>\</td><td>OUT</td><td>${sgsnip}</td></tr>
<tr><td><br></td><td>...</td><td>,,,${subnet_id}</td><td>${NRT_HSDPA_GTP_PARASET}</td><td>\</td><td>USERID=${user_id},ENC=11,QOS=${traffic_class},LTUL=FF,LTDL=55,TEID=${sgsn_teid},${NRT_HSDPA_TUNNEL_DSP},L3PID=4002,4FD,0,0,IMSI=${imsi}</td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${gtp_callinfo.result}</td><td>SUCCESSFUL</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>RRC Send Msg To GTP</td><td>${gtp_callinfo.unit}</td><td>${MSG_STOP_BUFFER}</td><td>NTUNL=1,DL_TEID=${gtp_callinfo.local_teid}</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>[return]</td><td>${gtp_callinfo}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Create GTP_LEG For Traffic</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${unit}</td><td><font color=dark red>${callid}</td><td><font color=dark red>${sgsnip}</td><td><font color=dark red>${imsi}</td><td><font color=dark red>${subnet_id}=2</td></tr>
<tr><td><br></td><td>...</td><td>${dscp}=E</td><td>${traffic_class}=0</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${gtp_leginfo}</td><td>add_signaling_traffic_to_call</td><td>${unit}</td><td>${callid}</td><td>OUT</td><td><br></td></tr>
<tr><td><br></td><td>...</td><td>${sgsnip}</td><td>868,,8,${subnet_id}</td><td>${NRT_HSDPA_GTP_PARASET}</td><td>\</td><td>USERID=${user_id},ENC=11,DEST=${DEST_ID},SDEST=${SDEST_ID},PHB=FF,QOS=${traffic_class},DSCP=${dscp},LTUL=FF,LTDL=66,${NRT_HSDPA_GTP_DSP},L3PID=4002,4FD,0,0,IMSI=${imsi}</td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${gtp_leginfo.result}</td><td>SUCCESSFUL</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>[return]</td><td>${gtp_leginfo}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Create UDP_LEG For Traffic</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${unit}</td><td><font color=dark red>${call_id}</td><td><font color=dark red>${nodeb_ip}</td><td><font color=dark red>${nodeb_ul_port}</td><td><font color=dark red>${imsi}=54321</td></tr>
<tr><td><br></td><td>...</td><td>${subnet_id}=4</td><td>${dscp}=E</td><td>${traffic_class}=0</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${udp_leginfo}</td><td>allocate_resource</td><td>${unit}</td><td>${call_id}</td><td>IN</td><td>\</td></tr>
<tr><td><br></td><td>...</td><td>,,,${subnet_id}</td><td>${NRT_HSDPA_UL_PARASET}</td><td>\</td><td>USERID=${user_id},ENC=12,BRA=T,DSCP=${dscp},PHB=FF,QOS=${traffic_class},FCLA=D,BCLA=C,LTUL=53,LTDL=FF,${NRT_HSDPA_UL_DSP},L3PID=4002,4FD,0,0,IMSI=${imsi}</td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${udp_leginfo.result}</td><td>SUCCESSFUL</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${leginfo}</td><td>modify_parameters</td><td>${unit}</td><td>${call_id}</td><td>IN-${udp_leginfo.branch_number}</td><td>${nodeb_ip}</td></tr>
<tr><td><br></td><td>...</td><td>${nodeb_ul_port}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${leginfo.result}</td><td>SUCCESSFUL</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>[return]</td><td>${udp_leginfo}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Create HSDPA_LEG For Traffic</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${unit}</td><td><font color=dark red>${call_id}</td><td><font color=dark red>${nodeb_ip}</td><td><font color=dark red>${nodeb_dl_port}</td><td><font color=dark red>${imsi}</td></tr>
<tr><td><br></td><td>...</td><td>${dscp}=E</td><td>${subnet_id}=4</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${hsdpa_leginfo}</td><td>allocate_resource</td><td>${unit}</td><td>${call_id}</td><td>IN</td><td>\</td></tr>
<tr><td><br></td><td>...</td><td>,,,${subnet_id}</td><td>${NRT_HSDPA_DL_PARASET}</td><td>\</td><td>USERID=${user_id},ENC=12,BRA=T,DSCP=${dscp},PHB=FF,QOS=2,FCLA=10,BCLA=11,LTDL=66,LTUL=FF,${NRT_HSDPA_DL_DSP},L3PID=4002,4FD,0,0,IMSI=${imsi}</td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${hsdpa_leginfo.result}</td><td>SUCCESSFUL</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${leginfo}</td><td>modify_parameters</td><td>${unit}</td><td>${call_id}</td><td>IN-${hsdpa_leginfo.branch_number}</td><td>${nodeb_ip}</td></tr>
<tr><td><br></td><td>...</td><td>${nodeb_dl_port}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${leginfo.result}</td><td>SUCCESSFUL</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>[return]</td><td>${hsdpa_leginfo}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Release HSDPA Call</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${call_info}</td><td><font color=dark red>${unit}=${USCP}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Release Leg</td><td>${unit}</td><td>${call_info[0]}</td><td>IN-02</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Release Leg</td><td>${unit}</td><td>${call_info[0]}</td><td>IN-01</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Release Leg</td><td>${unit}</td><td>${call_info[0]}</td><td>OUT</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Release Leg</td><td>${unit}</td><td>${call_info[6]}</td><td>IN</td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Create PS NRT Call For Traffic</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${subnet_id1}=2</td><td><font color=dark red>${subnet_id2}=4</td><td><font color=dark red>${traffic_class}=0</td><td><font color=dark red>${dscp}=E</td><td><font color=dark red>${ifc}=0</td></tr>
<tr><td><br></td><td>${user_id}</td><td>Get USERID From Unit</td><td>${USCP}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${gtp_callinfo}</td><td>Create GTP Tunnel For PS Call</td><td>${SGSN_IP}</td><td>${SGSN_TEID}</td><td>${subnet_id1}</td><td>${dscp}</td></tr>
<tr><td><br></td><td>...</td><td>${traffic_class}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${gtp_leginfo}</td><td>Create GTP_LEG For PS Call</td><td>${gtp_callinfo.call_id}</td><td>${SGSN_IP}</td><td>${subnet_id1}</td><td>${dscp}</td></tr>
<tr><td><br></td><td>...</td><td>${traffic_class}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${udp_leginfo}</td><td>Create UDP_LEG For PS Call</td><td>${gtp_callinfo.call_id}</td><td>${NODEB_IP}</td><td>${NODEB_PORT}</td><td>${subnet_id2}</td></tr>
<tr><td><br></td><td>...</td><td>${dscp}</td><td>${ifc}</td><td>${traffic_class}</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${ps_call_info}</td><td>Create list</td><td>${gtp_callinfo.call_id}</td><td>${gtp_callinfo.gtp_ip}</td><td>${gtp_callinfo.local_teid}</td><td>${udp_leginfo.local_ip}</td></tr>
<tr><td><br></td><td>...</td><td>${udp_leginfo.local_port}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>[return]</td><td>${ps_call_info}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Create GTP Tunnel For PS Call</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${sgsnip}</td><td><font color=dark red>${sgsn_teid}</td><td><font color=dark red>${subnet_id}=2</td><td><font color=dark red>${dscp}=E</td><td><font color=dark red>${traffic_class}=0</td></tr>
<tr><td><br></td><td>${gtp_callinfo}</td><td>allocate_resource</td><td>${USCP}</td><td>\</td><td>OUT</td><td>${sgsnip}</td></tr>
<tr><td><br></td><td>...</td><td>,,,${subnet_id}</td><td>${NRT_PS_PARASET}</td><td>\</td><td>USERID=${user_id},ENC=11,LTUL=FF,LTDL=55,QOS=${traffic_class},DSCP=${dscp},TEID=${sgsn_teid},${NRT_PS_TUNNEL_DSP},L3PID=4002,4FD,0,0</td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${gtp_callinfo.result}</td><td>SUCCESSFUL</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>RRC Send Msg To GTP</td><td>${gtp_callinfo.unit}</td><td>${MSG_STOP_BUFFER}</td><td>NTUNL=1,DL_TEID=${gtp_callinfo.local_teid}</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>[return]</td><td>${gtp_callinfo}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Create GTP_LEG For PS Call</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${callid}</td><td><font color=dark red>${sgsnip}</td><td><font color=dark red>${subnet_id}=2</td><td><font color=dark red>${dscp}=E</td><td><font color=dark red>${traffic_class}=0</td></tr>
<tr><td><br></td><td>${gtp_leginfo}</td><td>add_signaling_traffic_to_call</td><td>${USCP}</td><td>${callid}</td><td>OUT</td><td>${sgsnip}</td></tr>
<tr><td><br></td><td>...</td><td>868,,8,${subnet_id}</td><td>${NRT_PS_PARASET}</td><td>\</td><td>USERID=${user_id},ENC=11,DEST=${DEST_ID},SDEST=${SDEST_ID},PHB=FF,QOS=${traffic_class},DSCP=${dscp},LTUL=FF,LTDL=66,${NRT_PS_IU_DSP},L3PID=4002,4FD,0,0</td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${gtp_leginfo.result}</td><td>SUCCESSFUL</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>[return]</td><td>${gtp_leginfo}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Create UDP_LEG For PS Call</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${call_id}</td><td><font color=dark red>${nodeb_ip}</td><td><font color=dark red>${nodeb_ul_port}</td><td><font color=dark red>${subnet_id}=4</td><td><font color=dark red>${dscp}=E</td></tr>
<tr><td><br></td><td>...</td><td>${ifc}=0</td><td>${traffic_class}=0</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${udp_leginfo}</td><td>allocate_resource</td><td>${USCP}</td><td>${call_id}</td><td>IN</td><td>\</td></tr>
<tr><td><br></td><td>...</td><td>,,,${subnet_id}</td><td>${NRT_PS_IUB_PARASET}</td><td>\</td><td>USERID=${user_id},ENC=12,BRA=T,DSCP=${dscp},PHB=FF,QOS=${traffic_class},IFC=${ifc},FCLA=D,BCLA=C,LTUL=53,LTDL=FF,${NRT_PS_IUB_DSP},L3PID=4002,4FD,0,0</td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${udp_leginfo.result}</td><td>SUCCESSFUL</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${leginfo}</td><td>modify_parameters</td><td>${USCP}</td><td>${call_id}</td><td>IN-${udp_leginfo.branch_number}</td><td>${nodeb_ip}</td></tr>
<tr><td><br></td><td>...</td><td>${nodeb_ul_port}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>[return]</td><td>${udp_leginfo}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Check the downlink Traffic Work Well through one Call</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${rnc_iucs_ip}</td><td><font color=dark red>${rnc_iucs_port}</td><td><font color=dark red>${pkt_num}</td><td><font color=dark red>${udp_data_file}</td><td><font color=dark red>${nodeb_port}</td></tr>
<tr><td><br></td><td>...</td><td>${cn_port}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Stop Receive Stub</td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Start To Receive Packets On NodeB</td><td>${nodeb_port}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Send Packets From CN To NodeB</td><td>${cn_port}</td><td>${rnc_iucs_ip}</td><td>${rnc_iucs_port}</td><td>${pkt_num}</td><td>${udp_data_file}</td></tr>
<tr><td><br></td><td>Check Receive Correct Packets</td><td>${pkt_num}</td><td>${TIMEOUT_3}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Stop Receive Stub</td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Check the uplink Traffic Work Well through one Call</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${rnc_iucs_ip}</td><td><font color=dark red>${rnc_iucs_port}</td><td><font color=dark red>${pkt_num}</td><td><font color=dark red>${udp_data_file}</td><td><font color=dark red>${nodeb_port}</td></tr>
<tr><td><br></td><td>...</td><td>${cn_port}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Stop Receive Stub</td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Start To Receive Packets On CN</td><td>${cn_port}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Send Packets From NodeB To CN</td><td>${nodeb_port}</td><td>${rnc_iucs_ip}</td><td>${rnc_iucs_port}</td><td>${pkt_num}</td><td>${udp_data_file}</td></tr>
<tr><td><br></td><td>Check Receive Correct Packets</td><td>${pkt_num}</td><td>${TIMEOUT_3}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Stop Receive Stub</td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Downlink Traffic for PS Call</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${rnc_iucs_ip}</td><td><font color=dark red>${teid}</td><td><font color=dark red>${pkt_num}</td><td><font color=dark red>${udp_data_file}</td><td><font color=dark red>${nodeb_port}</td></tr>
<tr><td><br></td><td>...</td><td>${cn_port}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Stop Receive Stub</td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Start To Receive Packets On NodeB</td><td>${nodeb_port}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Send Packets From SGSN To NodeB</td><td>${cn_port}</td><td>${rnc_iucs_ip}</td><td>${teid}</td><td>${pkt_num}</td><td>${udp_data_file}</td></tr>
<tr><td><br></td><td>Check Receive Correct Packets</td><td>${pkt_num}</td><td>${TIMEOUT_3}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Stop Receive Stub</td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Start To Receive Packets On NodeB</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${src_port}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${udp_log_name}</td><td>Convert to string</td><td>${UDP_LOG}${LOG_NUM}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${LOG_NUM}</td><td>Evaluate</td><td>${LOG_NUM}+1</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Set suite variable</td><td>\${LOG_NUM}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Start Process</td><td>${RECVSTUB} ${NODEB_IP} ${src_port} ${NODEB_IP} ${src_port} ${NOT_CHECK} ${NOT_CHECK} ${NOT_CHECK} &gt; ${udp_log_name} &amp;</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Start To Receive Packets On CN</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${src_port}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${udp_log_name}</td><td>Convert to string</td><td>${UDP_LOG}${LOG_NUM}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${LOG_NUM}</td><td>Evaluate</td><td>${LOG_NUM}+1</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Set suite variable</td><td>\${LOG_NUM}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Start Process</td><td>${RECVSTUB} ${CN_IP} ${src_port} ${CN_IP} ${src_port} ${NOT_CHECK} ${NOT_CHECK} ${NOT_CHECK} &gt; ${udp_log_name} &amp;</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Send Packets From CN To NodeB</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${cn_port}</td><td><font color=dark red>${rnc_iucs_ip}</td><td><font color=dark red>${rnc_iucs_port}</td><td><font color=dark red>${pkt_num}</td><td><font color=dark red>${pkt_type}</td></tr>
<tr><td><br></td><td>Start Process</td><td>${SENDSTUB} ${CN_IP} ${cn_port} ${rnc_iucs_ip} ${rnc_iucs_port} ${pkt_num} ${pkt_type} 0</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${output}</td><td>Read Process Output</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Send Packets From NodeB To CN</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${nodeb_port}</td><td><font color=dark red>${rnc_iub_ip}</td><td><font color=dark red>${rnc_iub_port}</td><td><font color=dark red>${pkt_num}</td><td><font color=dark red>${pkt_type}</td></tr>
<tr><td><br></td><td>Start Process</td><td>${SENDSTUB} ${NODEB_IP} ${nodeb_port} ${rnc_iub_ip} ${rnc_iub_port} ${pkt_num} ${pkt_type} 0</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${output}</td><td>Read Process Output</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Send Packets From SGSN To NodeB</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${cn_port}</td><td><font color=dark red>${rnc_iups_ip}</td><td><font color=dark red>${teid}</td><td><font color=dark red>${pkt_num}</td><td><font color=dark red>${pkt_type}</td></tr>
<tr><td><br></td><td>...</td><td>${cnip}=\</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${teid}</td><td>Hex2dec</td><td>0x${teid}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Start Process</td><td>${SENDSTUB} ${SGSN_IP} ${cn_port} ${rnc_iups_ip} ${cn_port} ${pkt_num} ${pkt_type} ${teid} ${cnip}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${output}</td><td>Read Process Output</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Check Receive Correct Packets</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${pkt_num}</td><td><font color=dark red>${timeout}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Run</td><td>ps aux | grep ${RECVSTUB}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Start Process</td><td>${INQUIRESTUB} ${pkt_num} ${timeout}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${output}</td><td>Read Process Output</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${pkt_num_received}</td><td>Get Values From String</td><td>${output}</td><td>number</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${pkt_num}</td><td>${pkt_num_received[-1]}</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Stop Receive Stub</b></td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Run</td><td>pkill -9 ${RECVSTUB_NAME}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Send udp packet and check the receive status</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${src_ip}</td><td><font color=dark red>${src_port}</td><td><font color=dark red>${dest_ip}</td><td><font color=dark red>${dest_port}</td><td><font color=dark red>${num}=1</td></tr>
<tr><td><br></td><td>${result}</td><td>Send and check udp packet number</td><td>${SENDSTUB}</td><td>${src_ip}</td><td>${src_port}</td><td>${dest_ip}</td></tr>
<tr><td><br></td><td>...</td><td>${dest_port}</td><td>${num}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${result['utool_send_num']}</td><td>${num}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${result['utool_receive_num']}</td><td>${num}</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Check the traffic info in TAE</b></td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Execute cli</td><td>eitputil tae show</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Execute cli</td><td>eitputil statistics show</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Clear Traffic Testing Env</b></td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Run</td><td>rm ${UDP_LOG}* -f</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Run</td><td>pkill -9 ${RECVSTUB_NAME}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Run</td><td>pkill -9 ${SENDSTUB_NAME}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Run</td><td>ps aux | grep udp</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Add remote IP address</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${node_name}</td><td><font color=dark red>${ip_addr_mask}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${result}</td><td>Add remote ip</td><td>${node_name}</td><td>${ip_addr_mask}</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>List Should Contain Value</td><td>${result['result']}</td><td>SUCCESS</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Enable the test mode</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${node_name}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${result}</td><td>Set the mode of node</td><td>enable</td><td>${node_name}</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>List Should Contain Value</td><td>${result['mode']}</td><td>on</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Delete remote IP address</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${node_name}</td><td><font color=dark red>${ip_addr}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${result}</td><td>Delete remote ip</td><td>${node_name}</td><td>${ip_addr}</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal As Strings</td><td>${result['result']}</td><td>SUCCESS</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Disable the test mode</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${node_name}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${result}</td><td>Set the mode of node</td><td>disable</td><td>${node_name}</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal As Strings</td><td>${result['mode']}</td><td>off</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Pause to sending traffic</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${node_name}</td><td><font color=dark red>${param}=all</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${result}</td><td>Pause pktgen to send packets</td><td>${node_name}</td><td>stop</td><td>${param}</td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal As Strings</td><td>${result['pause_flag']}</td><td>stop</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Start to sending traffic</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${node_name}</td><td><font color=dark red>${param}=all</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${result}</td><td>Pause pktgen to send packets</td><td>${node_name}</td><td>start</td><td>${param}</td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal As Strings</td><td>${result['pause_flag']}</td><td>start</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Initial the test mode of node</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${up_node_name}</td><td><font color=dark red>${ip_addr_mask}</td><td><font color=dark red>${qnup_rg_name}</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Add remote IP address</td><td>${up_node_name}</td><td>${ip_addr_mask}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${result}</td><td>Show remote ip</td><td>${up_node_name}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal As Strings</td><td>${result['ip_${ip_addr_mask.split('/')[0].strip()}']}</td><td>${ip_addr_mask.split('/')[0].strip()}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Enable the test mode</td><td>${up_node_name}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${result}</td><td>show the mode of node</td><td>${up_node_name}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal As Strings</td><td>${result['mode']}</td><td>on</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Enable the test mode</td><td>${qnup_rg_name}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${result}</td><td>show the mode of node</td><td>${qnup_rg_name}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal As Strings</td><td>${result['mode']}</td><td>on</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Reset the test mode of node</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${up_node_name}</td><td><font color=dark red>${ip_addr_mask}</td><td><font color=dark red>${qnup_rg_name}</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Delete remote IP address</td><td>${up_node_name}</td><td>${ip_addr_mask.split('/')[0].strip()}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Disable the test mode</td><td>${up_node_name}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${result}</td><td>show the mode of node</td><td>${up_node_name}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal As Strings</td><td>${result['mode']}</td><td>off</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Disable the test mode</td><td>${qnup_rg_name}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${result}</td><td>show the mode of node</td><td>${qnup_rg_name}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal As Strings</td><td>${result['mode']}</td><td>off</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Set and check the traffic parameters configuration</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${node_name}</td><td><font color=dark red>${frame_size}</td><td><font color=dark red>${pkt_rate}</td><td><font color=dark red>${tti}</td><td><font color=dark red>${pkt_num}</td></tr>
<tr><td><br></td><td>${result}</td><td>Set parameter of pktgen</td><td>${node_name}</td><td>${frame_size}</td><td>${pkt_rate}</td><td>${tti}</td></tr>
<tr><td><br></td><td>...</td><td>${pkt_num}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal As Strings</td><td>${result['result']}</td><td>SUCCESS</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${tx_rate_bps}</td><td>Evaluate</td><td>${pkt_rate}*${frame_size}*8</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${param_info}</td><td>show param configuration</td><td>${node_name}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal As Strings</td><td>${param_info['frame_size']}</td><td>${frame_size}B</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal As Strings</td><td>${param_info['tx_fps']}</td><td>${pkt_rate}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal As Strings</td><td>${param_info['tx_bps']}</td><td>${tx_rate_bps}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${param_info['tti']}</td><td>${tti}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${param_info['pkt_num']}</td><td>${pkt_num}</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Get connection id of the leg</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${leginfo1}</td><td><font color=dark red>${unit}</td><td><font color=dark red>${leginfo2}=</td><td><font color=dark red>${teid}=</td><td><br></td></tr>
<tr><td><br></td><td>${conn_id}</td><td>Get connection id</td><td>${leginfo1}</td><td>${unit}</td><td>${leginfo2}</td><td>${teid}</td></tr>
<tr><td><br></td><td>${call_info}</td><td>Create List</td><td>${conn_id}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>[Return]</td><td>${call_info}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Use pktgen to send traffic to a leg</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${unit}</td><td><font color=dark red>${remote_ip}</td><td><font color=dark red>${ipbr_id}</td><td><font color=dark red>${dscp}</td><td><font color=dark red>${frame_size}</td></tr>
<tr><td><br></td><td>...</td><td>${pkt_rate}</td><td>${tti}</td><td>${leg_type}</td><td>${pkt_num}=0</td><td>${ifc}=0</td></tr>
<tr><td><br></td><td>Run Keyword If</td><td>'${leg_type}'=='rtp'</td><td>Create a RTP Leg for test</td><td>${unit}</td><td>${remote_ip}</td><td>${ipbr_id}</td></tr>
<tr><td><br></td><td>...</td><td>${frame_size}</td><td>${pkt_rate}</td><td>${tti}</td><td>${pkt_num}</td><td>${dscp}</td></tr>
<tr><td><br></td><td>Run Keyword If</td><td>'${leg_type}'=='udp'</td><td>Create a UDP leg for test</td><td>${unit}</td><td>${remote_ip}</td><td>${ipbr_id}</td></tr>
<tr><td><br></td><td>...</td><td>${frame_size}</td><td>${pkt_rate}</td><td>${tti}</td><td>${pkt_num}</td><td>${dscp}</td></tr>
<tr><td><br></td><td>Run Keyword If</td><td>'${leg_type}'=='gtp'</td><td>Create a GTP leg for test</td><td>${unit}</td><td>${remote_ip}</td><td>${ipbr_id}</td></tr>
<tr><td><br></td><td>...</td><td>${frame_size}</td><td>${pkt_rate}</td><td>${tti}</td><td>${pkt_num}</td><td>${dscp}</td></tr>
<tr><td><br></td><td>Run Keyword If</td><td>'${leg_type}'=='iub'</td><td>Create a Iub leg with IFC for test</td><td>${unit}</td><td>${remote_ip}</td><td>${ipbr_id}</td></tr>
<tr><td><br></td><td>...</td><td>${frame_size}</td><td>${pkt_rate}</td><td>${tti}</td><td>${pkt_num}</td><td>${dscp}</td></tr>
<tr><td><br></td><td>...</td><td>${ifc}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Create a RTP Leg for test</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${unit}</td><td><font color=dark red>${remote_ip}</td><td><font color=dark red>${ipbr_id}</td><td><font color=dark red>${frame_size}</td><td><font color=dark red>${pkt_rate}</td></tr>
<tr><td><br></td><td>...</td><td>${tti}</td><td>${pkt_num}</td><td>${dscp}</td><td>${traffic_class}=2</td><td><br></td></tr>
<tr><td><br></td><td>Set and check the traffic parameters configuration</td><td>${UP_NODE_NAME}</td><td>${frame_size}</td><td>${pkt_rate}</td><td>${tti}</td><td>${pkt_num}</td></tr>
<tr><td><br></td><td>${user_id}</td><td>Get USERID From Unit</td><td>${unit}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${rtp_leginfo}</td><td>Create RTP Leg For AMR Traffic</td><td>${unit}</td><td>${remote_ip}</td><td>${CN_RTP_PORT}</td><td>54321</td></tr>
<tr><td><br></td><td>...</td><td>${ipbr_id}</td><td>${dscp}</td><td>${traffic_class}</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${leg_info}</td><td>Get connection id of the leg</td><td>${rtp_leginfo}</td><td>${unit}</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Append to List</td><td>${leg_info}</td><td>${rtp_leginfo.call_id}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Set Test Variable</td><td>\${leg_info}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>[Return]</td><td>${leg_info}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Create a UDP leg for test</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${unit}</td><td><font color=dark red>${remote_ip}</td><td><font color=dark red>${ipbr_id}</td><td><font color=dark red>${frame_size}</td><td><font color=dark red>${pkt_rate}</td></tr>
<tr><td><br></td><td>...</td><td>${tti}</td><td>${pkt_num}</td><td>${dscp}</td><td>${traffic_class}=2</td><td><br></td></tr>
<tr><td><br></td><td>${user_id}</td><td>Get USERID From Unit</td><td>${unit}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Set and check the traffic parameters configuration</td><td>${UP_NODE_NAME}</td><td>${frame_size}</td><td>${pkt_rate}</td><td>0</td><td>${pkt_num}</td></tr>
<tr><td><br></td><td>${rtp_callinfo}</td><td>Create RTP Leg For AMR Traffic</td><td>${unit}</td><td>${remote_ip}</td><td>${CN_RTP_PORT}</td><td>54321</td></tr>
<tr><td><br></td><td>...</td><td>${ipbr_id}</td><td>${dscp}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Set and check the traffic parameters configuration</td><td>${UP_NODE_NAME}</td><td>${frame_size}</td><td>${pkt_rate}</td><td>${tti}</td><td>${pkt_num}</td></tr>
<tr><td><br></td><td>${udp_leginfo}</td><td>Create UDP Leg For AMR Traffic</td><td>${unit}</td><td>${rtp_callinfo.call_id}</td><td>${remote_ip}</td><td>@{NODEB_PORT_LIST}[0]</td></tr>
<tr><td><br></td><td>...</td><td>${ipbr_id}</td><td>54321</td><td>${dscp}</td><td>${traffic_class}</td><td><br></td></tr>
<tr><td><br></td><td>${leg_info}</td><td>Get connection id of the leg</td><td>${rtp_callinfo}</td><td>${unit}</td><td>${udp_leginfo}</td><td><br></td></tr>
<tr><td><br></td><td>Append to List</td><td>${leg_info}</td><td>${rtp_callinfo.call_id}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Set Test Variable</td><td>\${leg_info}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>[Return]</td><td>${leg_info}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Create a GTP leg for test</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${unit}</td><td><font color=dark red>${remote_ip}</td><td><font color=dark red>${ipbr_id}</td><td><font color=dark red>${frame_size}</td><td><font color=dark red>${pkt_rate}</td></tr>
<tr><td><br></td><td>...</td><td>${tti}</td><td>${pkt_num}</td><td>${dscp}</td><td>${traffic_class}=2</td><td><br></td></tr>
<tr><td><br></td><td>${user_id}</td><td>Get USERID From Unit</td><td>${unit}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Set and check the traffic parameters configuration</td><td>${UP_NODE_NAME}</td><td>${frame_size}</td><td>${pkt_rate}</td><td>${tti}</td><td>${pkt_num}</td></tr>
<tr><td><br></td><td>${gtp_callinfo}</td><td>Create GTP Tunnel For PS Call</td><td>${remote_ip}</td><td>${SGSN_TEID}</td><td>${ipbr_id}</td><td>${dscp}</td></tr>
<tr><td><br></td><td>...</td><td>${traffic_class}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${gtp_leginfo}</td><td>Create GTP_LEG For PS Call</td><td>${gtp_callinfo.call_id}</td><td>${remote_ip}</td><td>${ipbr_id}</td><td>${dscp}</td></tr>
<tr><td><br></td><td>...</td><td>${traffic_class}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${leg_info}</td><td>Get connection id of the leg</td><td>${gtp_leginfo}</td><td>${unit}</td><td>${gtp_callinfo}</td><td>${gtp_callinfo.local_teid }</td></tr>
<tr><td><br></td><td>Append to List</td><td>${leg_info}</td><td>${gtp_callinfo.call_id}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Set Test Variable</td><td>\${leg_info}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>[Return]</td><td>${leg_info}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFb9><td><b>Create a Iub leg with IFC for test</b></td><td><font color=dark red>[Arguments]</td><td><font color=dark red>${unit}</td><td><font color=dark red>${remote_ip}</td><td><font color=dark red>${ipbr_id}</td><td><font color=dark red>${frame_size}</td><td><font color=dark red>${pkt_rate}</td></tr>
<tr><td><br></td><td>...</td><td>${tti}</td><td>${pkt_num}</td><td>${dscp}</td><td>${ifc}</td><td>${traffic_class}=2</td></tr>
<tr><td><br></td><td>${user_id}</td><td>Get USERID From Unit</td><td>${unit}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Set and check the traffic parameters configuration</td><td>${UP_NODE_NAME}</td><td>${frame_size}</td><td>${pkt_rate}</td><td>0</td><td>${pkt_num}</td></tr>
<tr><td><br></td><td>${gtp_callinfo}</td><td>Create GTP Tunnel For PS Call</td><td>${remote_ip}</td><td>${SGSN_TEID}</td><td>${ipbr_id}</td><td>${dscp}</td></tr>
<tr><td><br></td><td>...</td><td>${traffic_class}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${gtp_leginfo}</td><td>Create GTP_LEG For PS Call</td><td>${gtp_callinfo.call_id}</td><td>${remote_ip}</td><td>${ipbr_id}</td><td>${dscp}</td></tr>
<tr><td><br></td><td>...</td><td>${traffic_class}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Set and check the traffic parameters configuration</td><td>${UP_NODE_NAME}</td><td>${frame_size}</td><td>${pkt_rate}</td><td>${tti}</td><td>${pkt_num}</td></tr>
<tr><td><br></td><td>${udp_leginfo}</td><td>Create UDP_LEG For PS Call</td><td>${gtp_callinfo.call_id}</td><td>${remote_ip}</td><td>@{NODEB_PORT_LIST}[0]</td><td>${ipbr_id}</td></tr>
<tr><td><br></td><td>...</td><td>${dscp}</td><td>${ifc}</td><td>${traffic_class}</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${leg_info}</td><td>Get connection id of the leg</td><td>${gtp_leginfo}</td><td>${unit}</td><td>${udp_leginfo}</td><td><br></td></tr>
<tr><td><br></td><td>Append to List</td><td>${leg_info}</td><td>${gtp_callinfo.call_id}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Set Test Variable</td><td>\${leg_info}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>[Return]</td><td>${leg_info}</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
</table>
<br>
<table border="1" bordercolor="#000000" cellpadding="4" cellspacing="0" width="100%"></table>
<p class="western" style="margin-bottom: 0cm;"><br>
</p>
</body></html>
