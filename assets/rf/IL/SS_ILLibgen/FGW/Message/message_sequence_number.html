<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="CONTENT-TYPE" content="text/html; charset=windows-1252">

<title>Message sequence_number</title><meta name="GENERATOR" content="OpenOffice.org 2.1 (Win32)">
<meta name="CREATED" content="20070731;12001513">
<meta name="CHANGED" content="20070731;12124284">
<style>
<!--
@page { size: 21cm 29.7cm; margin: 2cm }
P { margin-bottom: 0.21cm }
P.western { font-family: "Arial", sans-serif; font-size: 10pt }
H1 { margin-bottom: 0.21cm }
H1.western { font-family: "Arial", sans-serif; font-size: 16pt }
H1.cjk { font-family: "Arial Unicode MS"; font-size: 16pt }
H1.ctl { font-family: "Tahoma"; font-size: 16pt }
TD P { margin-bottom: 0cm }
TD P.western { font-family: "Arial", sans-serif; font-size: 9pt }
TD { font-family: "Arial", sans-serif; font-size: 9pt }
TH P { margin-bottom: 0cm }
TH P.western { font-family: "Arial", sans-serif; font-size: 10pt }
H2 { margin-bottom: 0.21cm }
H2.western { font-family: "Arial", sans-serif; font-size: 14pt; font-style: italic }
H2.cjk { font-size: 14pt; font-style: italic }
H2.ctl { font-size: 14pt; font-style: italic }
-->
</style></head>
<body style="direction: ltr;" lang="en-US">
<h1 class="western">Message sequence_number</h1>
<table border="1" bordercolor="#000000" cellpadding="4" cellspacing="0" width="100%">
<tbody>
<tr valign="top">
<th bgcolor="#FFFF33" width=22%>
<p class="western">Setting</p>
</th>
<th bgcolor="#FFFF33" width=45%>
<p class="western">Value</p>
</th>
<th bgcolor="#FFFF33" width=11%>
<p class="western">Value</p>
</th>
<th bgcolor="#FFFF33" width=11%>
<p class="western">Value</p>
</th>
<th bgcolor="#FFFF33" width=11%>
<p class="western">Value</p>
</th></tr><tr bgcolor=#FFFFFF><td><font color=green><b>Documentation</b></td><td><font color=green>LIBGEN generate message sequence number, and when an individual message is monitored in sending, arriving and receiving points, its sequence_number field should contain the same value in each point.</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td><font color=dark red><b>Force Tags</b></td><td><font color=dark red>Product_Backlog_ID-B01317</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td><font color=dark red><b>Force Tags</b></td><td><font color=dark red>Iteration_ID-I01912</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td><font color=dark red><b>Force Tags</b></td><td><font color=dark red>PRS_ID-IL_PRS_2582</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td><font color=dark red><b>Force Tags</b></td><td><font color=dark red>EFS_ID-RNC_EFS_2152_93</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td><font color=dark red><b>Force Tags</b></td><td><font color=dark red>Owner-I_EXT_NWS_WCDMA_RA_RI_HZSWD_LITE_LAUNCHER@internal.nsn.com</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td><font color=dark red><b>Force Tags</b></td><td><font color=dark red>element-il</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td><font color=dark red><b>Force Tags</b></td><td><font color=dark red>exec_type-automatic</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td><font color=dark red><b>Force Tags</b></td><td><font color=dark red>type-FUT</td><td><font color=dark red>QL-6</td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td><font color=dark red><b>Force Tags</b></td><td><font color=dark red>release-IL1_RIS4</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td><font color=dark red><b>Force Tags</b></td><td><font color=dark red>reviewer-@nsn.com</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td><font color=dark red><b>Force Tags</b></td><td><font color=dark red>rw-mail</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td><font color=dark red><b>Force Tags</b></td><td><font color=dark red>hw_env-AB</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td><font color=dark red><b>Force Tags</b></td><td><font color=dark red>hw_env-RNC_S1</td><td colspan=3><font color=dark red>hw_type-all</td></tr>
<tr bgcolor=#FFFFFF><td><b>Suite Setup</b></td><td>Connect To SUT And Setup TestEnv</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td><b>Suite Teardown</b></td><td>Clear Test Env And Disconnect</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td><b>Resource</b></td><td>./resources/Libgen_Msg_Resource.html</td><td><br></td><td><br></td><td><br></td></tr>
</table>
<br>
<table border="1" bordercolor="#000000" cellpadding="4" cellspacing="0" width="100%">
<tbody>
<tr valign="top">
<th bgcolor="#FFFF33" width=22%>
<p class="western">Variable</p>
</th>
<th bgcolor="#FFFF33" width=29%>
<p class="western">Value</p>
</th>
<th bgcolor="#FFFF33" width=49%>
<p class="western">Value</p>
</th></tr><tr bgcolor=#FFFFFF><td>${CHECK TIMEOUT}</td><td>30</td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${CHECK INTERVAL}</td><td>1</td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${STUB}</td><td>IL_TestWarmNotifyStub</td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${OMU TYPE}</td><td>%{OMU_TYPE}</td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${OMU LOGICAL ADDRESS}</td><td>0x7002</td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${FAMILY_ID}</td><td colspan=2>0x1F48</td></tr>
<tr bgcolor=#FFFFFF><td>${ACK_SUCCESS}</td><td>success</td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${ACK_FAILURE}</td><td>failure</td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${HAND_CREATE}</td><td>0</td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${TYPE_INTRAFAMILY}</td><td>1</td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${TYPE_INTRANODE}</td><td>2</td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${TYPE_INTERNODE}</td><td>3</td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${TYPE_TIMER}</td><td>4</td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${TYPE_REFRESH}</td><td>5</td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${TIME_QUOTA}</td><td>10</td><td><br></td></tr>
<tr><td><br></td><td><br></td><td><br></td></tr>
</table>
<br>
<table border="1" bordercolor="#000000" cellpadding="4" cellspacing="0" width="100%">
<tbody>
<tr valign="top">
<th bgcolor="#FFFF33" width=8%>
<p class="western">Test Case</p>
</th>
<th bgcolor="#FFFF33" width=31%>
<p class="western">Action</p>
</th>
<th bgcolor="#FFFF33" width=25%>
<p class="western">Action</p>
</th>
<th bgcolor="#FFFF33" width=15%>
<p class="western">Action</p>
</th>
<th bgcolor="#FFFF33" width=10%>
<p class="western">Action</p>
</th>
<th bgcolor="#FFFF33" width=10%>
<p class="western">Action</p>
</th></tr><tr bgcolor=#99CCFF><td colspan=6><b>Message Sequence Number Should Be Same In Sending And Receiving Side For Intra-Family Message</b></td></tr>
<tr><td><br></td><td><font color=green>[Documentation]</td><td><font color=green>Precondition\n<br>&nbsp;&nbsp;&nbsp;. OMU Should Be OK.\n\n</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><font color=green>[Documentation]</td><td><font color=green>Execution steps\n<br>&nbsp;&nbsp;&nbsp;&nbsp;1. Test CLI Send Msg To Let Test Process Send Intra-Family Message\n<br>&nbsp;&nbsp;&nbsp;&nbsp;2. Check The Sequence Number Should Be Same In Sending And Receiving Side\n<br>&nbsp;&nbsp;&nbsp;&nbsp;3. Check The Physical Computer Addr In Bottom are Correct\n\n</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><font color=green>[Documentation]</td><td><font color=green>Expected result\n<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;. The Sequence Number Should Be Same In Sending And Receiving Side.\n\n</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>[Tags]</td><td>ATC_ID-MessageSeqNumber.FUT.001.AT.I01912</td><td>ATC_ID-MessageSeqNumber.FUT.002.AT.I01912</td><td>exec_level-pre</td><td><br></td></tr>
<tr><td><br></td><td>Test CLI Send Msg To Let Test Process Send Message</td><td>${TYPE_INTRAFAMILY}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Check The Sequence Number Should Be Same In Sending And Receiving Side</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Check The Physical Computer Addr In Bottom are Correct</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#99CCFF><td colspan=6><b>Message Sequence Number Should Be Same In Sending And Receiving Side For Intra-Node Message</b></td></tr>
<tr><td><br></td><td><font color=green>[Documentation]</td><td><font color=green>Precondition\n<br>&nbsp;&nbsp;&nbsp;. OMU Should Be OK.\n\n</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><font color=green>[Documentation]</td><td><font color=green>Execution steps\n<br>&nbsp;&nbsp;&nbsp;&nbsp;1. Test CLI Send Msg To Let Test Process Send Intra-Node Message\n<br>&nbsp;&nbsp;&nbsp;&nbsp;2. Check The Sequence Number Should Be Same In Sending And Receiving Side\n<br>&nbsp;&nbsp;&nbsp;&nbsp;3. Check The Physical Computer Addr In Bottom are Correct\n\n</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><font color=green>[Documentation]</td><td><font color=green>Expected result\n<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;. The Sequence Number Should Be Same In Sending And Receiving Side.\n\n</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>[Tags]</td><td>ATC_ID-MessageSeqNumber.FUT.003.AT.I01912</td><td>exec_level-pre</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Test CLI Send Msg To Let Test Process Send Message</td><td>${TYPE_INTRANODE}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Check The Sequence Number Should Be Same In Sending And Receiving Side</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Check The Physical Computer Addr In Bottom are Correct</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#99CCFF><td colspan=6><b>Message Sequence Number Should Be Same In Sending And Receiving Side For Inter-Node Message</b></td></tr>
<tr><td><br></td><td><font color=green>[Documentation]</td><td><font color=green>Precondition\n<br>&nbsp;&nbsp;&nbsp;. OMU Should Be OK.\n\n</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><font color=green>[Documentation]</td><td><font color=green>Execution steps\n<br>&nbsp;&nbsp;&nbsp;&nbsp;1. Test CLI Send Msg To Let Test Process Send Inter-Node Message\n<br>&nbsp;&nbsp;&nbsp;&nbsp;2. Check The Sequence Number Should Be Same In Sending And Receiving Side\n<br>&nbsp;&nbsp;&nbsp;&nbsp;3. Check The Physical Computer Addr In Bottom are Correct\n\n</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><font color=green>[Documentation]</td><td><font color=green>Expected result\n<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;. The Sequence Number Should Be Same In Sending And Receiving Side.\n\n</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>[Tags]</td><td>ATC_ID-MessageSeqNumber.FUT.004.AT.I01912</td><td>exec_level-pre</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Test CLI Send Msg To Let Test Process Send Message</td><td>${TYPE_INTERNODE}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Check The Sequence Number Should Be Same In Sending And Receiving Side</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Check The Physical Computer Addr In Bottom are Correct</td><td>${TYPE_INTERNODE}</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#99CCFF><td colspan=6><b>Message Sequence Number Should Be Increasing By Order Or Be Circulated When Reach The Limit</b></td></tr>
<tr><td><br></td><td><font color=green>[Documentation]</td><td><font color=green>Precondition\n<br>&nbsp;&nbsp;&nbsp;. OMU Should Be OK.\n\n</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><font color=green>[Documentation]</td><td><font color=green>Execution steps\n<br>&nbsp;&nbsp;&nbsp;&nbsp;1. Monitor One RU's Messages By Monster\n<br>&nbsp;&nbsp;&nbsp;&nbsp;2. Check The Sequence Number Should Be Increasing By Order Or Be Circulated When Reach The Limit\n<br>&nbsp;&nbsp;&nbsp;&nbsp;3. Check The Sequence Number 0 Should Not Be Used\n\n</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><font color=green>[Documentation]</td><td><font color=green>Expected result\n<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;. The Sequence Number Should Be Increasing By Order Or Be Circulated When Reach The Limit.\n\n</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>[Tags]</td><td>ATC_ID-MessageSeqNumber.FUT.005.AT.I01912</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Wait Until Keyword Succeeds</td><td>${CHECK TIMEOUT}</td><td>${CHECK INTERVAL}</td><td>Run Sequence Number Should Be Increasing By Order</td><td><br></td></tr>
<tr bgcolor=#99CCFF><td colspan=6><b>Message Sequence Number Should Be Same In Sending And Receiving Side For Hand Create Sync Msg</b></td></tr>
<tr><td><br></td><td><font color=green>[Documentation]</td><td><font color=green>Precondition\n<br>&nbsp;&nbsp;&nbsp;. OMU Should Be OK.\n\n</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><font color=green>[Documentation]</td><td><font color=green>Execution steps\n<br>&nbsp;&nbsp;&nbsp;&nbsp;1. Test CLI Send Msg To Let Test Process Test For Hand Create Sync Msg\n<br>&nbsp;&nbsp;&nbsp;&nbsp;2. Check The Sequence Number Should Be Generated Correctly\n<br>&nbsp;&nbsp;&nbsp;&nbsp;3. Check The Physical Computer Addr In Bottom are Correct\n\n</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><font color=green>[Documentation]</td><td><font color=green>Expected result\n<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;. The Sequence Number Should Be Generated Correctly.\n\n</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>[Tags]</td><td>ATC_ID-MessageSeqNumber.FUT.007.AT.I01912</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><font color=dark red>[Setup]</td><td colspan=4><font color=dark red>Stop Hands</td></tr>
<tr><td><br></td><td>Test CLI Send Msg To Let Test Process Send Message</td><td>${HAND_CREATE}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Check Hand Count</td><td>${FAMILY_ID}</td><td>2</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Check The Sequence Number Increasing By Order Should Be Successful</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Check The Physical Computer Addr In Bottom are Correct</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Check Reserve Hand Msg Data Should Be Correct</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><font color=dark red>[Teardown]</td><td colspan=4><font color=dark red>Stop Hands</td></tr>
<tr bgcolor=#99CCFF><td colspan=6><b>Message Sequence Number Should Be Same In Sending And Receiving Side For Refresh Hand Timer</b></td></tr>
<tr><td><br></td><td><font color=green>[Documentation]</td><td><font color=green>Precondition\n<br>&nbsp;&nbsp;&nbsp;. OMU Should Be OK.\n\n</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><font color=green>[Documentation]</td><td><font color=green>Execution steps\n<br>&nbsp;&nbsp;&nbsp;&nbsp;1. Test CLI Send Msg To Let Test Process Test For Refresh Hand Timer\n<br>&nbsp;&nbsp;&nbsp;&nbsp;2. Check The Sequence Number Should Be Generated Correctly\n<br>&nbsp;&nbsp;&nbsp;&nbsp;3. Check The Physical Computer Addr In Bottom are Correct\n\n</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><font color=green>[Documentation]</td><td><font color=green>Expected result\n<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;. The Sequence Number Should Be Generated Correctly.\n\n</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>[Tags]</td><td>ATC_ID-MessageSeqNumber.FUT.008.AT.I01912</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Test CLI Send Msg To Let Test Process Send Message</td><td>${TYPE_REFRESH}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Check The Sequence Number Increasing By Order Should Be Successful</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Check The Physical Computer Addr In Bottom are Correct</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><font color=dark red>[Teardown]</td><td colspan=4><font color=dark red>Stop Hands</td></tr>
</table>
<br>
<table border="1" bordercolor="#000000" cellpadding="4" cellspacing="0" width="100%">
<tbody>
<tr valign="top">
<th bgcolor="#FFFF33" width=17%>
<p class="western">Keyword</p>
</th>
<th bgcolor="#FFFF33" width=17%>
<p class="western">Argument</p>
</th>
<th bgcolor="#FFFF33" width=17%>
<p class="western">Argument</p>
</th>
<th bgcolor="#FFFF33" width=17%>
<p class="western">Argument</p>
</th>
<th bgcolor="#FFFF33" width=17%>
<p class="western">Argument</p>
</th>
<th bgcolor="#FFFF33" width=15%>
<p class="western">Argument</p>
</th></tr><tr bgcolor=#A9A9F5><td colspan=6><b>Clear Test Env And Disconnect</b></td></tr>
<tr><td><br></td><td>Disconnect All Ils</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#A9A9F5><td colspan=6><b>Connect To SUT And Setup TestEnv</b></td></tr>
<tr><td><br></td><td>${SSH_WO}=</td><td>Connect to Il</td><td>%{HOSTIP}</td><td>%{PORT}</td><td>${MAX TIME FOR CONNECT}</td></tr>
<tr><td><br></td><td>...</td><td>%{USERNAME}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>...</td><td>%{PASSWD}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Set Suite Variable</td><td>\${SSH_WO}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Execute CLI</td><td>ulimit -c unlimited</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td colspan=5>Get WO And SP OMU Index</td></tr>
<tr><td><br></td><td>All OMU Should Be Ready</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Change RU</td><td>${WO OMU NAME}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Get The Physical Address Of OMU</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${SSH_SP}=</td><td>Connect to Il</td><td>%{HOSTIP}</td><td>%{PORT}</td><td>${MAX TIME FOR CONNECT}</td></tr>
<tr><td><br></td><td>...</td><td>%{USERNAME}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>...</td><td>%{PASSWD}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Set Suite Variable</td><td>\${SSH_SP}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Change RU</td><td>${SP OMU NAME}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Switch Il Connection</td><td>${SSH_WO}</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#A9A9F5><td colspan=6><b>Get The Physical Address Of OMU</b></td></tr>
<tr><td><br></td><td>${WO_COMP_ADDR}</td><td>Get Libgen Use Phys Addr</td><td>${OMU TYPE}</td><td colspan=2>${WO OMU INDEX}</td></tr>
<tr><td><br></td><td>Set Suite Variable</td><td colspan=4>\${WO_COMP_ADDR}</td></tr>
<tr><td><br></td><td>${SP_COMP_ADDR}</td><td>Get Libgen Use Phys Addr</td><td>${OMU TYPE}</td><td colspan=2>${SP OMU INDEX}</td></tr>
<tr><td><br></td><td>Set Suite Variable</td><td colspan=4>\${SP_COMP_ADDR}</td></tr>
<tr bgcolor=#A9A9F5><td colspan=6><b>Get WO And SP OMU Index</b></td></tr>
<tr><td><br></td><td>${rg_name}</td><td>Get RG Name By MOName</td><td>${OMU-0}</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Set Suite Variable</td><td>\${OMURG}</td><td>${rg_name}</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${wo_names}</td><td>Get WO Units</td><td>${rg_name}</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${sp_names}</td><td>Get SP Units</td><td colspan=3>${rg_name}</td></tr>
<tr><td><br></td><td>${wo info}</td><td>Get Unit Type And Index By MO Name</td><td>${wo_names[0]}</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${sp info}</td><td>Get Unit Type And Index By MO Name</td><td colspan=3>${sp_names[0]}</td></tr>
<tr><td><br></td><td>Set Suite Variable</td><td>\${WO_OMU_INDEX}</td><td>${wo info.index}</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Set Suite Variable</td><td>\${SP_OMU_INDEX}</td><td colspan=3>${sp info.index}</td></tr>
<tr><td><br></td><td>Set Suite Variable</td><td>\${WO_OMU_NAME}</td><td>${wo_names[0]}</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Set Suite Variable</td><td>\${SP_OMU_NAME}</td><td colspan=3>${sp_names[0]}</td></tr>
<tr bgcolor=#A9A9F5><td colspan=6><b>All OMU Should Be Ready</b></td></tr>
<tr><td><br></td><td>Managed Object Should Be Ready</td><td colspan=4>${WO OMU NAME}</td></tr>
<tr bgcolor=#A9A9F5><td><b>Check Work Unit</b></td><td><font color=#FF6600>[Arguments]</td><td colspan=4><font color=#FF6600>${WO OMU RU}</td></tr>
<tr><td><br></td><td>${NEW_WO_RU}</td><td>Get WO Units</td><td colspan=3>${OMURG}</td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${NEW_WO_RU[0]}</td><td>${WO OMU RU}</td><td><br></td><td><br></td></tr>
<tr bgcolor=#A9A9F5><td><b>Managed Object Should Be Ready</b></td><td><font color=#FF6600>[Arguments]</td><td colspan=4><font color=#FF6600>${moname}</td></tr>
<tr><td><br></td><td>${result}</td><td>Check Managed Object State</td><td colspan=3>${moname}</td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${result}</td><td colspan=3>${True}</td></tr>
<tr bgcolor=#A9A9F5><td colspan=6><b>Restart Libgend Server</b></td></tr>
<tr><td><br></td><td>Execute CLI</td><td>fshascli -rn /CLA-${WO_OMU_INDEX}/LibgenTestServer</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Wait Until Keyword Succeeds</td><td>${CHECK TIMEOUT}</td><td>${CHECK INTERVAL}</td><td>Managed Object Should Be Ready</td><td>/CLA-${WO_OMU_INDEX}/LibgenTestServer</td></tr>
<tr><td><br></td><td>Wait Until Keyword Succeeds</td><td>${CHECK TIMEOUT}</td><td>${CHECK INTERVAL}</td><td colspan=2>All OMU Should Be Ready</td></tr>
<tr bgcolor=#A9A9F5><td><b>Let Test Process Send Message</b></td><td><font color=#FF6600>[Arguments]</td><td><font color=#FF6600>${mon_command}</td><td><font color=#FF6600>${command}</td><td><font color=#FF6600>${delay}</td><td><br></td></tr>
<tr><td><br></td><td>${msg_buf}</td><td>Send Message To Test Process And Monitor</td><td>${mon_command}</td><td>${command}</td><td>${delay}</td></tr>
<tr><td><br></td><td>Should Not Be Equal</td><td>${msg_buf}</td><td>${ACK_FAILURE}</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><font color=#FF6600>[RETURN]</td><td><font color=#FF6600>${msg_buf}</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#A9A9F5><td><b>Test CLI Send Msg To Let Test Process Send Message</b></td><td><font color=#FF6600>[Arguments]</td><td><font color=#FF6600>${tst_id}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Select Type To Set Command Options</td><td>${tst_id}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Run Keyword If Else</td><td>${tst_id} == ${TYPE_INTERNODE}</td><td colspan=3>Send Message And Monitor On WOSP Side</td></tr>
<tr><td><br></td><td>...</td><td>Else</td><td colspan=3>Send Message And Monitor on WO Side</td></tr>
<tr bgcolor=#A9A9F5><td><b>Select Type To Set Command Options</b></td><td><font color=#FF6600>[Arguments]</td><td><font color=#FF6600>${tst_id}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Run Keyword If</td><td>${tst_id} == ${TYPE_INTRAFAMILY}</td><td>Set Command Options</td><td>-u ${WO_COMP_ADDR} -f ${FAMILY_ID}</td><td><br></td></tr>
<tr><td><br></td><td>...</td><td>WMNotifstub -f 0xffff -- -u ${WO_COMP_ADDR} -f ${FAMILY_ID} -t ${tst_id}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Run Keyword If</td><td>${tst_id} == ${TYPE_INTRANODE}</td><td>Set Command Options</td><td>-u ${WO_COMP_ADDR} -f ${FAMILY_ID},0x1773</td><td><br></td></tr>
<tr><td><br></td><td>...</td><td>WMNotifstub -f 0xffff -- -u ${WO_COMP_ADDR} -f ${FAMILY_ID} -t ${tst_id}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Run Keyword If</td><td>${tst_id} == ${TYPE_INTERNODE}</td><td>Set Command Options</td><td>-u ${WO_COMP_ADDR} -f ${FAMILY_ID}</td><td><br></td></tr>
<tr><td><br></td><td>...</td><td>WMNotifstub -f 0xffff -- -u ${WO_COMP_ADDR} -f ${FAMILY_ID} -t ${tst_id}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Run Keyword If</td><td>${tst_id} == ${TYPE_TIMER}</td><td>Set Command Options</td><td>-u ${WO_COMP_ADDR} -f ${FAMILY_ID}</td><td><br></td></tr>
<tr><td><br></td><td>...</td><td>WMNotifstub -f 0xffff -- -u ${WO_COMP_ADDR} -f ${FAMILY_ID} -t ${tst_id}</td><td>0</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Run Keyword If</td><td>${tst_id} == ${TYPE_REFRESH}</td><td>Set Command Options</td><td>-u ${WO_COMP_ADDR} -f ${FAMILY_ID}</td><td><br></td></tr>
<tr><td><br></td><td>...</td><td>WMNotifstub -f 0xffff -- -u ${WO_COMP_ADDR} -f ${FAMILY_ID} -t ${tst_id} --time-quota ${TIME_QUOTA}</td><td>0</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Run Keyword If</td><td>${tst_id} == ${HAND_CREATE}</td><td>Set Command Options</td><td>-u ${WO_COMP_ADDR} -f ${FAMILY_ID}</td><td><br></td></tr>
<tr><td><br></td><td>...</td><td>WMNotifstub -f 0xffff -- -u ${OMU LOGICAL ADDRESS} -f ${FAMILY_ID} -c 1</td><td>0</td><td><br></td><td><br></td></tr>
<tr bgcolor=#A9A9F5><td colspan=6><b>Send Message And Monitor On WOSP Side</b></td></tr>
<tr><td><br></td><td>Monster On SP Side</td><td>${FAMILY_ID}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${wo_msg_buf}</td><td>Let Test Process Send Message</td><td>${mon_command}</td><td>${command}</td><td>9</td></tr>
<tr><td><br></td><td>${sp_msg_buf}</td><td colspan=4>Get Monster Result On SP Side</td></tr>
<tr><td><br></td><td>${msg_list}</td><td>Get Msg From Monitoring Result</td><td>${wo_msg_buf}${sp_msg_buf}</td><td>${filter_data}</td><td><br></td></tr>
<tr><td><br></td><td>${wo_msg_list}</td><td>Get Msg From Monitoring Result</td><td>${wo_msg_buf}</td><td>${filter_data}</td><td><br></td></tr>
<tr><td><br></td><td>${sp_msg_list}</td><td>Get Msg From Monitoring Result</td><td>${sp_msg_buf}</td><td>${filter_data}</td><td><br></td></tr>
<tr><td><br></td><td>Set Test Variable</td><td colspan=4>\${msg_list}</td></tr>
<tr><td><br></td><td>Set Test Variable</td><td colspan=4>\${wo_msg_list}</td></tr>
<tr><td><br></td><td>Set Test Variable</td><td colspan=4>\${sp_msg_list}</td></tr>
<tr bgcolor=#A9A9F5><td colspan=6><b>Send Message And Monitor on WO Side</b></td></tr>
<tr><td><br></td><td>${msg_buf}</td><td>Let Test Process Send Message</td><td>${mon_command}</td><td>${command}</td><td>9</td></tr>
<tr><td><br></td><td>${msg_list}</td><td>Get Msg From Monitoring Result</td><td>${msg_buf}</td><td>${filter_data}</td><td><br></td></tr>
<tr><td><br></td><td>Set Test Variable</td><td colspan=4>\${msg_buf}</td></tr>
<tr><td><br></td><td>Set Test Variable</td><td colspan=4>\${msg_list}</td></tr>
<tr bgcolor=#A9A9F5><td><b>Monster On SP Side</b></td><td><font color=#FF6600>[Arguments]</td><td colspan=4><font color=#FF6600>${FAMILY_ID}</td></tr>
<tr><td><br></td><td>Switch Il Connection</td><td>${SSH_SP}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${result}</td><td>Execute CLI</td><td>monster -u ${SP_COMP_ADDR} -f ${FAMILY_ID} &gt; /var/log/sequence_number &amp;</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${pid}</td><td>ShouldMatchRegexp</td><td>${result.strip()}</td><td>(?&lt;=\\[\\d\\] )\\d*</td><td><br></td></tr>
<tr><td><br></td><td>Set Test Variable</td><td>\${pid}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Switch Il Connection</td><td>${SSH_WO}</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#A9A9F5><td colspan=6><b>Get Monster Result On SP Side</b></td></tr>
<tr><td><br></td><td>Switch Il Connection</td><td>${SSH_SP}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Execute CLI</td><td>kill ${pid}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><font color=blue>#Execute CLI</td><td><font color=blue>sleep 5</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Wait Until Keyword Succeeds</td><td>${CHECK TIMEOUT}</td><td>${CHECK INTERVAL}</td><td colspan=2>Get SP Msg Buf</td></tr>
<tr><td><br></td><td>Switch Il Connection</td><td>${SSH_WO}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><font color=#FF6600>[RETURN]</td><td><font color=#FF6600>${sp_msg_buf}</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#A9A9F5><td colspan=6><b>Get SP Msg Buf</b></td></tr>
<tr><td><br></td><td>${sp_msg_buf}</td><td>Execute CLI</td><td colspan=3>cat /var/log/sequence_number</td></tr>
<tr><td><br></td><td>Should Contain</td><td>${sp_msg_buf}</td><td>MONITORING TIME</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Set Test Variable</td><td>\${sp_msg_buf}</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#A9A9F5><td colspan=6><b>Run Sequence Number Should Be Increasing By Order</b></td></tr>
<tr><td><br></td><td colspan=5>Let Monitor RU Message</td></tr>
<tr><td><br></td><td>${ret}</td><td colspan=4>Check The Sequence Number Should Be Increasing By Order Or Be Circulated When Reach The Limit</td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${ret}</td><td colspan=3>${ACK_SUCCESS}</td></tr>
<tr bgcolor=#A9A9F5><td colspan=6><b>Let Monitor RU Message</b></td></tr>
<tr><td><br></td><td>Set Command Options</td><td>-u ${WO_COMP_ADDR} -f 0x1773 -c "S:"</td><td>ILWMTestCli -- -r ${WO_COMP_ADDR} 0x1773 0 -msg 0x6034 0 100 -s</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${msg_buf}</td><td>Let Test Process Send Message</td><td>${mon_command}</td><td>${command}</td><td>9</td></tr>
<tr><td><br></td><td>${msg_list}</td><td>Get Msg From Monitoring Result</td><td>${msg_buf}</td><td>0</td><td><br></td></tr>
<tr><td><br></td><td>Set Test Variable</td><td colspan=4>\${msg_list}</td></tr>
<tr bgcolor=#A9A9F5><td><b>Check The Sequence Number Should Be Same In Sending And Receiving Side</b></td><td><font color=#FF6600>[Arguments]</td><td colspan=4><font color=#FF6600>${FAMILY_ID}=0</td></tr>
<tr><td><br></td><td>${ret}</td><td>Check Equal Msg Sequence Number In Both Side</td><td>${msg_list}</td><td>${FAMILY_ID}</td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${ret}</td><td colspan=3>${ACK_SUCCESS}</td></tr>
<tr bgcolor=#A9A9F5><td colspan=6><b>Check The Sequence Number Should Be Filled With 0 In Sending And Not 0 In Receiving Side</b></td></tr>
<tr><td><br></td><td>${ret}</td><td>Check Sequence Number Is Zero</td><td>${msg_list}</td><td>sent</td><td>true</td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${ret}</td><td colspan=3>${ACK_SUCCESS}</td></tr>
<tr><td><br></td><td>${ret}</td><td>Check Sequence Number Is Zero</td><td>${msg_list}</td><td>recv</td><td>false</td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${ret}</td><td colspan=3>${ACK_SUCCESS}</td></tr>
<tr bgcolor=#A9A9F5><td><b>Check The Physical Computer Addr In Bottom are Correct</b></td><td><font color=#FF6600>[Arguments]</td><td><font color=#FF6600>${tst_id}=-1</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Run Keyword If Else</td><td>${tst_id} == ${TYPE_INTERNODE}</td><td>Check Msg Comp Addr On WOSP</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>...</td><td>Else</td><td>Check Msg Comp Addr On WO</td><td><br></td><td><br></td></tr>
<tr bgcolor=#A9A9F5><td colspan=6><b>Check Msg Comp Addr On WOSP</b></td></tr>
<tr><td><br></td><td>${ret}</td><td>Check Msg Comp Addr</td><td>${wo_msg_list}</td><td>${WO_COMP_ADDR}</td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${ret}</td><td colspan=3>${ACK_SUCCESS}</td></tr>
<tr><td><br></td><td>${ret}</td><td>Check Msg Comp Addr</td><td>${sp_msg_list}</td><td>${SP_COMP_ADDR}</td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${ret}</td><td colspan=3>${ACK_SUCCESS}</td></tr>
<tr bgcolor=#A9A9F5><td colspan=6><b>Check Msg Comp Addr On WO</b></td></tr>
<tr><td><br></td><td>${ret}</td><td>Check Msg Comp Addr</td><td>${msg_list}</td><td>${WO_COMP_ADDR}</td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${ret}</td><td colspan=3>${ACK_SUCCESS}</td></tr>
<tr bgcolor=#A9A9F5><td colspan=6><b>Check The Sequence Number Should Be Increasing By Order Or Be Circulated When Reach The Limit</b></td></tr>
<tr><td><br></td><td>${ret}</td><td>Check The Sequence Number Increasing By Order Should Be Successful</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><font color=#FF6600>[RETURN]</td><td><font color=#FF6600>${ret}</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#A9A9F5><td><b>Check The Sequence Number Increasing By Order Should Be Successful</b></td><td><font color=#FF6600>[Arguments]</td><td><font color=#FF6600>${step}=2</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${ret}</td><td>Check The Sequence Number Increasing By Order</td><td>${msg_list}</td><td>${step}</td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${ret}</td><td colspan=3>${ACK_SUCCESS}</td></tr>
<tr><td><br></td><td><font color=#FF6600>[RETURN]</td><td><font color=#FF6600>${ret}</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#A9A9F5><td><b>Test CLI Send Msg To Let Test Process Create Reserved Hands</b></td><td><font color=#FF6600>[Arguments]</td><td><font color=#FF6600>${HANDS_NUM}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${result}</td><td>Let Test Process Send Message</td><td>${WO_OMU_COMP}</td><td>${FAMILY_ID}</td><td>${HANDS_NUM}</td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${result}</td><td>${ACK_SUCCESS}</td><td><br></td><td><br></td></tr>
<tr bgcolor=#A9A9F5><td><b>Set Command Options</b></td><td><font color=#FF6600>[Arguments]</td><td><font color=#FF6600>${mon_command}</td><td><font color=#FF6600>${command}</td><td><font color=#FF6600>${filter_data}=1</td><td><br></td></tr>
<tr><td><br></td><td>Set Test Variable</td><td>\${mon_command}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Set Test Variable</td><td>\${command}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Set Test Variable</td><td>\${filter_data}</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#A9A9F5><td colspan=6><b>Restart Test Process</b></td></tr>
<tr><td><br></td><td>Execute CLI</td><td colspan=4>fshascli -rn ${WO OMU NAME}/${STUB}</td></tr>
<tr><td><br></td><td>Wait Until Keyword Succeeds</td><td>${CHECK TIMEOUT}</td><td>${CHECK INTERVAL}</td><td>Managed Object Should Be Ready</td><td>${WO OMU NAME}/${STUB}</td></tr>
<tr bgcolor=#A9A9F5><td><b>Stop Hands</b></td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${result}</td><td>Execute CLI</td><td colspan=3>diagste -u ${WO_COMP_ADDR} -f ${FAMILY_ID} -r han -t idata -g 1|grep -v pem|awk '{print $1}'</td></tr>
<tr><td><br></td><td>@{List}</td><td>Set Variable</td><td>${result.strip().splitlines()}</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>:FOR</td><td>${index}</td><td>IN</td><td>@{List}</td><td><br></td></tr>
<tr><td><br></td><td><br></td><td>Execute CLI</td><td colspan=3>WMNotifstub -f 0xffff -- -u ${OMU LOGICAL ADDRESS} -f ${FAMILY_ID} -r 0x${index} --hello-msg</td></tr>
<tr bgcolor=#A9A9F5><td colspan=6><b>Start Test Process</b></td></tr>
<tr><td><br></td><td>${result}</td><td>Execute CLI</td><td>WMNotifstub -f 0x1234 -- -s &amp;</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${testproc_pid}</td><td>ShouldMatchRegexp</td><td>${result.strip()}</td><td>(?&lt;=\\[\\d\\] )\\d*</td><td><br></td></tr>
<tr><td><br></td><td>Set Test Variable</td><td>\${testproc_pid}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Set Test Variable</td><td>\${FAMILY_ID}</td><td>0x1234</td><td><br></td><td><br></td></tr>
<tr bgcolor=#A9A9F5><td colspan=6><b>Stop Test Process</b></td></tr>
<tr><td><br></td><td>Execute CLI</td><td>kill ${testproc_pid}</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#A9A9F5><td><b>Check Hand Count</b></td><td><font color=#FF6600>[Arguments]</td><td><font color=#FF6600>${FAMILY_ID}</td><td colspan=3><font color=#FF6600>${HAND_COUNT}</td></tr>
<tr><td><br></td><td>Switch Il Connection</td><td>${SSH_WO}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${result}</td><td>Use Diagste To Get Hand Count</td><td>${WO_COMP_ADDR}</td><td>${FAMILY_ID}</td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal As Integers</td><td>${result}</td><td>${HAND_COUNT}</td><td><br></td><td><br></td></tr>
<tr bgcolor=#A9A9F5><td colspan=6><b>Check Reserve Hand Msg Data Should Be Correct</b></td></tr>
<tr><td><br></td><td>${msg_list}</td><td>Get Msg List</td><td>${msg_buf}</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${hand_msgs_send}</td><td>Get Msgs By ID</td><td>${msg_list}</td><td>0x6836</td><td>sent</td></tr>
<tr><td><br></td><td>${hand_msgs_recv}</td><td>Get Msgs By ID</td><td>${msg_list}</td><td>0X6836</td><td>recv</td></tr>
<tr><td><br></td><td>${result}</td><td>Check Message Data Equal</td><td>${hand_msgs_recv}</td><td>${hand_msgs_send}</td><td><br></td></tr>
</table>
<p class="western" style="margin-bottom: 0cm;"><br>
</p>
</body></html>
