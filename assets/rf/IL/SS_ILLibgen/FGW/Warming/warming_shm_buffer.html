<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="CONTENT-TYPE" content="text/html; charset=windows-1252">

<title>warming_shm_buffer</title><meta name="GENERATOR" content="OpenOffice.org 2.1 (Win32)">
<meta name="CREATED" content="20070731;12001513">
<meta name="CHANGED" content="20070731;12124284">
<style>
<!--
@page { size: 21cm 29.7cm; margin: 2cm }
P { margin-bottom: 0.21cm }
P.western { font-family: "Arial", sans-serif; font-size: 10pt }
H1 { margin-bottom: 0.21cm }
H1.western { font-family: "Arial", sans-serif; font-size: 16pt }
H1.cjk { font-family: "Arial Unicode MS"; font-size: 16pt }
H1.ctl { font-family: "Tahoma"; font-size: 16pt }
TD P { margin-bottom: 0cm }
TD P.western { font-family: "Arial", sans-serif; font-size: 9pt }
TD { font-family: "Arial", sans-serif; font-size: 9pt }
TH P { margin-bottom: 0cm }
TH P.western { font-family: "Arial", sans-serif; font-size: 10pt }
H2 { margin-bottom: 0.21cm }
H2.western { font-family: "Arial", sans-serif; font-size: 14pt; font-style: italic }
H2.cjk { font-size: 14pt; font-style: italic }
H2.ctl { font-size: 14pt; font-style: italic }
-->
</style></head>
<body style="direction: ltr;" lang="en-US">
<h1 class="western">warming_shm_buffer</h1>
<table border="1" bordercolor="#000000" cellpadding="4" cellspacing="0" width="100%">
<tbody>
<tr valign="top">
<th bgcolor="#FFFF33" width=22%>
<p class="western">Setting</p>
</th>
<th bgcolor="#FFFF33" width=45%>
<p class="western">Value</p>
</th>
<th bgcolor="#FFFF33" width=11%>
<p class="western">Value</p>
</th>
<th bgcolor="#FFFF33" width=11%>
<p class="western">Value</p>
</th>
<th bgcolor="#FFFF33" width=11%>
<p class="western">Value</p>
</th></tr><tr bgcolor=#FFFFFF><td><font color=green><b>Documentation</b></td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td><font color=dark red><b>Force Tags</b></td><td><font color=dark red>Product_Backlog_ID-B01409</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td><font color=dark red><b>Force Tags</b></td><td><font color=dark red>Iteration_ID-I01470</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td><font color=dark red><b>Force Tags</b></td><td><font color=dark red>PRS_ID-IL_PRS_2596</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td><font color=dark red><b>Force Tags</b></td><td><font color=dark red>EFS_ID-RNC_EFS_2152_93</td><td colspan=3><font color=dark red>EFS_ID-RNC_EFS_2152_144</td></tr>
<tr bgcolor=#FFFFFF><td><font color=dark red><b>Force Tags</b></td><td><font color=dark red>Owner-I_EXT_NWS_WCDMA_RA_RI_HZSWD_LITE_LAUNCHER@internal.nsn.com</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td><font color=dark red><b>Force Tags</b></td><td><font color=dark red>element-il</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td><font color=dark red><b>Force Tags</b></td><td><font color=dark red>exec_type-automatic</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td><font color=dark red><b>Force Tags</b></td><td><font color=dark red>type-FUT</td><td>QL-6</td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td><font color=dark red><b>Force Tags</b></td><td><font color=dark red>release-IL1_RIS5</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td><font color=dark red><b>Force Tags</b></td><td><font color=dark red>reviewer-@nsn.com</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td><font color=dark red><b>Force Tags</b></td><td><font color=dark red>rw-mail</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td><font color=dark red><b>Force Tags</b></td><td><font color=dark red>hw_env-RNC</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td><font color=dark red><b>Force Tags</b></td><td><font color=dark red>hw_env-RNC_S0</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td><font color=dark red><b>Force Tags</b></td><td><font color=dark red>hw_env-RNC_S1</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td><font color=dark red><b>Force Tags</b></td><td><font color=dark red>exec_level-pre</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td><b>Suite Setup</b></td><td>Setup Warming Shm Buffer Env</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td><b>Suite Teardown</b></td><td>Clear Test Env And Disconnect</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td><b>Resource</b></td><td>./resources/Libgen.html</td><td><br></td><td><br></td><td><br></td></tr>
</table>
<br>
<table border="1" bordercolor="#000000" cellpadding="4" cellspacing="0" width="100%">
<tbody>
<tr valign="top">
<th bgcolor="#FFFF33" width=22%>
<p class="western">Variable</p>
</th>
<th bgcolor="#FFFF33" width=29%>
<p class="western">Value</p>
</th>
<th bgcolor="#FFFF33" width=49%>
<p class="western">Value</p>
</th></tr><tr bgcolor=#FFFFFF><td>${FAMILY_ID}</td><td>0x1F46</td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${MASTER_PROCESS}</td><td>0x0</td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${HAND_PROCESS}</td><td>0x1</td><td><br></td></tr>
<tr bgcolor=#FFFFFF><td>${CHECK_TIME}</td><td>10</td><td><br></td></tr>
<tr><td><br></td><td><br></td><td><br></td></tr>
</table>
<br>
<table border="1" bordercolor="#000000" cellpadding="4" cellspacing="0" width="100%">
<tbody>
<tr valign="top">
<th bgcolor="#FFFF33" width=8%>
<p class="western">Test Case</p>
</th>
<th bgcolor="#FFFF33" width=31%>
<p class="western">Action</p>
</th>
<th bgcolor="#FFFF33" width=25%>
<p class="western">Action</p>
</th>
<th bgcolor="#FFFF33" width=15%>
<p class="western">Action</p>
</th>
<th bgcolor="#FFFF33" width=10%>
<p class="western">Action</p>
</th>
<th bgcolor="#FFFF33" width=10%>
<p class="western">Action</p>
</th></tr><tr bgcolor=#99CCFF><td colspan=6><b>Warming shm buffer in master successfully when shm buffer is existed on WO and SP</b></td></tr>
<tr><td><br></td><td><font color=green>[Documentation]</td><td><font color=green>Precondition\n<br>&nbsp;&nbsp;&nbsp;. shm buffer should be created on WO and SP\n\n</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><font color=green>[Documentation]</td><td><font color=green>Execution steps\n<br>&nbsp;&nbsp;&nbsp;&nbsp;1. Send msg to test process to create shm buffer on wo and sp\n<br>&nbsp;&nbsp;&nbsp;&nbsp;2. The shm buffer content should not be consistent on WO and SP\n<br>&nbsp;&nbsp;&nbsp;&nbsp;3. Trigger warming by CLI\n<br>&nbsp;&nbsp;&nbsp;&nbsp;4. The shm buffer content should be consistent on WO and SP\n\n</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><font color=green>[Documentation]</td><td><font color=green>Expected result\n<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;. The shm buffer content should be warmed successfully.\n\n</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>[Tags]</td><td>Warming.FUT.001.AT.I01470</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Send Msg To Test Process To Create Shm Buffer On WO In Master</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Send Msg To Test Process To Create Shm Buffer On SP IN Master</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Send Msg To Change Buffer Content On WO And SP In Master</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>The Buffer Content Should Not Be Consistent In Master</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Warming Success</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>The Buffer Content Should Be Consistent In Master</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><font color=dark red>[Teardown]</td><td><font color=dark red>Delete Created Buffer On WO And SP In Master</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#99CCFF><td colspan=6><b>Warming shm buffer in master failed when shm buffer is only existed on WO</b></td></tr>
<tr><td><br></td><td><font color=green>[Documentation]</td><td><font color=green>Precondition\n<br>&nbsp;&nbsp;&nbsp;. shm buffer should be created only on WO\n\n</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><font color=green>[Documentation]</td><td><font color=green>Execution steps\n<br>&nbsp;&nbsp;&nbsp;&nbsp;1. Send msg to test process to create shm buffer on wo\n<br>&nbsp;&nbsp;&nbsp;&nbsp;2. Trigger warming by CLI\n\n</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><font color=green>[Documentation]</td><td><font color=green>Expected result\n<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;. The shm buffer only created on WO will cause warming abort.\n\n</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>[Tags]</td><td>Warming.FUT.002.AT.I01470</td><td>ct-negative</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Send Msg To Test Process To Create Shm Buffer On WO In Master</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Send Msg To Change Buffer Content On WO In Master</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Warming Failure</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><font color=dark red>[Teardown]</td><td><font color=dark red>Delete Created Buffer On WO In Master</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#99CCFF><td colspan=6><b>Warming shm buffer in master failed when shm buffer is only existed on SP</b></td></tr>
<tr><td><br></td><td><font color=green>[Documentation]</td><td><font color=green>Precondition\n<br>&nbsp;&nbsp;&nbsp;. shm buffer should be created only on SP\n\n</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><font color=green>[Documentation]</td><td><font color=green>Execution steps\n<br>&nbsp;&nbsp;&nbsp;&nbsp;1. Send msg to test process to create shm buffer on sp\n<br>&nbsp;&nbsp;&nbsp;&nbsp;2. Trigger warming by CLI\n\n</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><font color=green>[Documentation]</td><td><font color=green>Expected result\n<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;. The shm buffer only created on WO will cause warming abort.\n\n</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>[Tags]</td><td>Warming.FUT.003.AT.I01470</td><td>ct-negative</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Send Msg To Test Process To Create Shm Buffer On SP In Master</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Send Msg To Change Buffer Content On SP In Master</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Warming Failure</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td><font color=dark red>[Teardown]</td><td><font color=dark red>Delete Created Buffer On SP In Master</td><td><br></td><td><br></td><td><br></td></tr>
</table>
<br>
<table border="1" bordercolor="#000000" cellpadding="4" cellspacing="0" width="100%">
<tbody>
<tr valign="top">
<th bgcolor="#FFFF33" width=17%>
<p class="western">Keyword</p>
</th>
<th bgcolor="#FFFF33" width=17%>
<p class="western">Argument</p>
</th>
<th bgcolor="#FFFF33" width=17%>
<p class="western">Argument</p>
</th>
<th bgcolor="#FFFF33" width=17%>
<p class="western">Argument</p>
</th>
<th bgcolor="#FFFF33" width=17%>
<p class="western">Argument</p>
</th>
<th bgcolor="#FFFF33" width=15%>
<p class="western">Argument</p>
</th></tr><tr bgcolor=#A9A9F5><td colspan=6><b>Send Msg To Test Process To Create Shm Buffer On WO In Master</b></td></tr>
<tr><td><br></td><td>Switch To OMU Env</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Create Shm Buffer By Test Process</td><td>${WO_COMP_ADDR}</td><td>${FAMILY_ID}</td><td>${MASTER_PROCESS}</td><td><br></td></tr>
<tr bgcolor=#A9A9F5><td colspan=6><b>Send Msg To Test Process To Create Shm Buffer On SP In Master</b></td></tr>
<tr><td><br></td><td>Switch To CFCP Env</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Create Shm Buffer By Test Process</td><td>${SP_COMP_A DDR}</td><td>${FAMILY_ID}</td><td>${MASTER_PROCESS}</td><td><br></td></tr>
<tr bgcolor=#A9A9F5><td colspan=6><b>Send Msg To Change Buffer Content On WO And SP In Master</b></td></tr>
<tr><td><br></td><td>Send Msg To Change Buffer Content On WO In Master</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Send Msg To Change Buffer Content On SP In Master</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#A9A9F5><td colspan=6><b>Send Msg To Change Buffer Content On WO In Master</b></td></tr>
<tr><td><br></td><td>Switch To OMU Env</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Change Shm Buffer Content By Test Process</td><td>${WO_COMP_ADDR}</td><td>${FAMILY_ID}</td><td>${MASTER_PROCESS}</td><td><br></td></tr>
<tr bgcolor=#A9A9F5><td colspan=6><b>Send Msg To Change Buffer Content On SP In Master</b></td></tr>
<tr><td><br></td><td>Switch To CFCP Env</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Change Shm Buffer Content By Test Process</td><td>${SP_COMP_ADDR}</td><td>${FAMILY_ID}</td><td>${MASTER_PROCESS}</td><td><br></td></tr>
<tr bgcolor=#A9A9F5><td colspan=6><b>The Buffer Content Should Be Consistent In Master</b></td></tr>
<tr><td><br></td><td>Switch To OMU Env</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${result}</td><td>Check If With Warm Buffer Equal</td><td>${WO_COMP_ADDR}</td><td>${SP_COMP_ADDR}</td><td>${FAMILY_ID}</td></tr>
<tr><td><br></td><td>...</td><td>${MASTER_PROCESS}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${result}</td><td>${ACK_SUCCESS}</td><td><br></td><td><br></td></tr>
<tr bgcolor=#A9A9F5><td colspan=6><b>The Buffer Content Should Not Be Consistent In Master</b></td></tr>
<tr><td><br></td><td>Switch To OMU Env</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${result}</td><td>Check If With Warm Buffer Equal</td><td>${WO_COMP_ADDR}</td><td>${SP_COMP_ADDR}</td><td>${FAMILY_ID}</td></tr>
<tr><td><br></td><td>...</td><td>${MASTER_PROCESS}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Should Be Equal</td><td>${result}</td><td>${ACK_FAILURE}</td><td><br></td><td><br></td></tr>
<tr bgcolor=#A9A9F5><td colspan=6><b>Delete Created Buffer On WO In Master</b></td></tr>
<tr><td><br></td><td>Switch To OMU Env</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Delete Shm Buffer By Test Process</td><td>${WO_COMP_ADDR}</td><td>${FAMILY_ID}</td><td>${MASTER_PROCESS}</td><td><br></td></tr>
<tr bgcolor=#A9A9F5><td colspan=6><b>Delete Created Buffer On SP In Master</b></td></tr>
<tr><td><br></td><td>Switch To CFCP Env</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Delete Shm Buffer By Test Process</td><td>${SP_COMP_ADDR}</td><td>${FAMILY_ID}</td><td>${MASTER_PROCESS}</td><td><br></td></tr>
<tr bgcolor=#A9A9F5><td colspan=6><b>Delete Created Buffer On WO And SP In Master</b></td></tr>
<tr><td><br></td><td>Delete Created Buffer On WO In Master</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Delete Created Buffer On SP In Master</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#A9A9F5><td colspan=6><b>Setup Warming Shm Buffer Env</b></td></tr>
<tr><td><br></td><td>Setup Connection For OMU</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Setup Connection For CFCP</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Set Variable Of Libgen Use Phys Addr</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Set WOSP State</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#A9A9F5><td colspan=6><b>Clear Test Env And Disconnect</b></td></tr>
<tr><td><br></td><td>Execute CLI</td><td>pkill shmwarmproc</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Wait Until Keyword Succeeds</td><td>${CHECK_TIME}</td><td>${CHECK INTERVAL}</td><td>Command ps Should Not Contain</td><td><br></td></tr>
<tr><td><br></td><td>Disconnect All Ils</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#A9A9F5><td><b>Command ps Should Not Contain</b></td><td><br></td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${result}</td><td>Execute Mml Without Check</td><td>ps |grep shmwarmproc</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Should Not Contain</td><td>${result}</td><td>shmwarmproc</td><td><br></td><td><br></td></tr>
<tr bgcolor=#A9A9F5><td colspan=6><b>Setup Connection For OMU</b></td></tr>
<tr><td><br></td><td>${SSH_OMU}=</td><td>Connect to Il</td><td>%{HOSTIP}</td><td>\</td><td><br></td></tr>
<tr><td><br></td><td>...</td><td>30sec</td><td>%{USERNAME}</td><td>%{PASSWD}</td><td><br></td></tr>
<tr><td><br></td><td>Set Suite Variable</td><td>\${SSH_OMU}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Get WO OMU</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${OMU_NODE}</td><td>Get Node From Unit</td><td>${OMU}</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Set Suite Variable</td><td>\${OMU_NODE}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Change RU</td><td>${OMU}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Execute CLI</td><td>ulimit -c unlimited</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Execute CLI</td><td>shmwarmproc -- -s &amp;</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#A9A9F5><td colspan=6><b>Setup Connection For CFCP</b></td></tr>
<tr><td><br></td><td>${SSH_CFCP}=</td><td>Connect to Il</td><td>%{HOSTIP}</td><td>\</td><td><br></td></tr>
<tr><td><br></td><td>...</td><td>30sec</td><td>%{USERNAME}</td><td>%{PASSWD}</td><td><br></td></tr>
<tr><td><br></td><td>Set Suite Variable</td><td>\${SSH_CFCP}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Get WO CFCP</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>${CFCP_NODE}</td><td>Get Node From Unit</td><td>${CFCP}</td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Set Suite Variable</td><td>\${CFCP_NODE}</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td colspan=5>Chang CFCP RU With Same Node With OMU</td></tr>
<tr><td><br></td><td>Execute CLI</td><td>ulimit -c unlimited</td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Execute CLI</td><td>shmwarmproc -- -s &amp;</td><td><br></td><td><br></td><td><br></td></tr>
<tr bgcolor=#A9A9F5><td colspan=6><b>Set WOSP State</b></td></tr>
<tr><td><br></td><td>Set WO Unit State</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
<tr><td><br></td><td>Set SP Unit State</td><td><br></td><td><br></td><td><br></td><td><br></td></tr>
</table>
<p class="western" style="margin-bottom: 0cm;"><br>
</p>
</body></html>
